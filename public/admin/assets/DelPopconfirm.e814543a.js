import{r as v,C as ne,f as te,v as re,j as l,T as ie,c as ae,I as le,ad as se,a as y,F as ce,B as j,b as B,ae as ue,u as fe,i as pe,M as de}from"./index.1f4442a4.js";var f=globalThis&&globalThis.__assign||function(){return f=Object.assign||function(n){for(var i,r=1,o=arguments.length;r<o;r++){i=arguments[r];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}return n},f.apply(this,arguments)},ge=globalThis&&globalThis.__rest||function(n,i){var r={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(r[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,o=Object.getOwnPropertySymbols(n);t<o.length;t++)i.indexOf(o[t])<0&&Object.prototype.propertyIsEnumerable.call(n,o[t])&&(r[o[t]]=n[o[t]]);return r},E=globalThis&&globalThis.__read||function(n,i){var r=typeof Symbol=="function"&&n[Symbol.iterator];if(!r)return n;var o=r.call(n),t,c=[],u;try{for(;(i===void 0||i-- >0)&&!(t=o.next()).done;)c.push(t.value)}catch(b){u={error:b}}finally{try{t&&!t.done&&(r=o.return)&&r.call(o)}finally{if(u)throw u.error}}return c},me={position:"top",okType:"primary",icon:l(le,{}),blurToHide:!0,unmountOnExit:!0,trigger:"click",escToClose:!0};function he(n,i){var r,o=v.exports.useContext(ne),t=o.getPrefixCls,c=o.locale,u=o.componentConfig,b=o.rtl,e=te(n,me,u==null?void 0:u.Popconfirm),H=e.style,S=e.className,C=e.children,D=e.position,M=e.getPopupContainer,I=e.blurToHide,z=e.unmountOnExit,q=e.trigger,R=e.escToClose,T=e.onVisibleChange,d=e.triggerProps,P=e.title,k=e.icon,U=e.okText,W=e.cancelText,$=e.okType,A=e.okButtonProps,G=e.cancelButtonProps,J=e.autoFocus,K=e.focusLock,g=e.content,Q=ge(e,["style","className","children","position","getPopupContainer","blurToHide","unmountOnExit","trigger","escToClose","onVisibleChange","triggerProps","title","icon","okText","cancelText","okType","okButtonProps","cancelButtonProps","autoFocus","focusLock","content"]),O=E(re(!1,{defaultValue:e.defaultPopupVisible,value:e.popupVisible}),2),m=O[0],X=O[1],_=E(v.exports.useState(!1),2),V=_[0],h=_[1],a=t("popconfirm"),N=!se(g),F=function(s){"popupVisible"in e||X(s),d&&d.onVisibleChange&&d.onVisibleChange(s),T&&T(s)},x=function(){F(!1)},Y=function(s){x(),e.onCancel&&e.onCancel(s)},Z=function(s){var w=e.onOk||e.onConfirm,p;w&&(p=w(s)),p&&p.then&&(h(!0),p.then(function(){x()},function(oe){h(!1),console.error(oe)})),p||x()},ee=function(){var s=y(ce,{children:[l(j,{...f({onClick:Y,size:"mini"},G),children:W||c.Popconfirm.cancelText}),l(j,{...f({loading:V,onClick:Z,size:"mini",type:$},A),children:U||c.Popconfirm.okText})]});return y("div",{className:a+"-wrapper",children:[y("div",{className:a+"-title",children:[k&&l("span",{className:a+"-title-icon",children:k}),l("div",{className:a+"-title-text",children:B(P)?P():P})]}),N&&l("div",{className:a+"-inner-content",children:B(g)?g():g}),K?l(ue,{returnFocus:!0,as:"div",className:a+"-btn",crossFrame:!1,disabled:!m,autoFocus:!!J,children:s}):l("div",{className:a+"-btn",children:s})]})};return v.exports.useEffect(function(){return!m&&V&&h(!1),function(){h(!1)}},[m]),l(ie,{...f({},Q,{ref:i,style:f({maxWidth:350},H),className:ae(S,(r={},r[a+"-rtl"]=b,r[a+"-has-content"]=N,r)),prefixCls:a,getPopupContainer:M,position:D,trigger:q,escToClose:R,popupVisible:m,content:ee,unmountOnExit:z,blurToHide:I,popupHoverStay:!0,triggerProps:d,onVisibleChange:F,childrenPrefix:a}),children:typeof C=="string"?l("span",{children:C}):C})}var L=v.exports.forwardRef(he);L.displayName="Popconfirm";var ve=L;function Ce(n){var o,t;const i=fe(pe);async function r(){const c=await n.reqDel(n.params);c.code===0&&(de.success(c.message),n.reload())}return l(ve,{focusLock:!0,title:(o=n.title)!=null?o:i["confirm delete"],content:(t=n.content)!=null?t:i["Do you want to delete it"],onOk:r,children:n.children})}export{Ce as D};
