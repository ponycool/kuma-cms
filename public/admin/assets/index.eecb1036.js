import{u as K,r as s,a as d,F as N,j as e,aj as $,az as k}from"./index.cbcfa651.js";import{P as B}from"./index.b9274156.js";import{C as G}from"./index.a4be1060.js";import{T as y}from"./index.efc18ebf.js";import{l as I,C as O}from"./card-block.0c4c70f7.js";import{s as C}from"./index.module.fd951a68.js";import R from"./card-add.c31eda22.js";import{s as U,q as H,a as J}from"./index.b904d472.js";import{i as M}from"./use-immer.module.1ff160c6.js";import Q from"./create.aababccc.js";import"./index.303f485e.js";import"./index.baf2aba0.js";import"./index.0b94aeee.js";import"./index.3eae923e.js";import"./index.262a5926.js";import"./index.0bb703c6.js";import"./index.9319c329.js";import"./index.63f985ea.js";import"./b-tween.es.064e2a03.js";import"./convertNullToUndefined.a19d8223.js";import"./index.21ebae8c.js";const{Row:V,Col:v}=k;function gt(){const u=K(I),[S,p]=s.exports.useState(!0),[b,L]=s.exports.useState(new Array(1).fill({})),[o,j]=s.exports.useState(),[m,w]=s.exports.useState(),[r,n]=M({visible:!1,close:function(){n(t=>{t.visible=!1})}}),[P,f]=s.exports.useState(),[c,x]=s.exports.useState(1),[l,z]=s.exports.useState(10),[T,q]=s.exports.useState(0);function A(){f(void 0),n(t=>{t.data=void 0,t.visible=!0})}async function D(t){try{const a=await J({uuid:t});a.code===0&&(console.log(a),f(t),n(i=>{i.data=a.data,i.visible=!0}))}catch{}}const E=()=>d(V,{gutter:24,className:C["card-content"],children:[e(v,{xs:24,sm:12,md:8,lg:6,xl:6,xxl:6,children:e(R,{description:u["cardList.add.quality"],onCreate:A})}),b.map((t,a)=>e(v,{xs:24,sm:12,md:8,lg:6,xl:6,xxl:6,children:e(O,{card:t,loading:S,onEdit:D,reload:h})},a))]});async function F(){const a=(await U()).data.status;j(a)}function g(){!o||(p(!0),H({page:c,pageSize:l}).then(t=>{const a=t.data.pageData.map(i=>({...i,status:o[i.status]}));q(t.data.total),L(a)}).finally(()=>{p(!1)}))}function h(){x(1),g()}return s.exports.useEffect(()=>{F()},[]),s.exports.useEffect(()=>{g()},[o,c,l]),d(N,{children:[r.visible&&e(Q,{visible:r.visible,data:r.data,status:o,close:()=>r.close(),reload:h,uuid:P}),d(G,{style:{display:r.visible?"none":void 0},children:[e(y,{activeTab:m,type:"rounded",onChange:w,extra:e($.Search,{style:{width:"240px"},placeholder:u[`cardList.tab.${m}.placeholder`]}),children:o&&Object.keys(o).map(t=>e(y.TabPane,{title:o[t]},t))}),e("div",{className:C.container,children:E()}),e("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end"},children:e(B,{sizeCanChange:!0,total:T,pageSize:l,current:c,onChange:x,onPageSizeChange:z})})]})]})}export{gt as default};
