import{R as B,r as d,C as le,a as N,c as M,j as l,f as we,a9 as Ze,aa as xe,ai as Je,F as Ke,ak as Xe,bh as Se,bi as _e,o as Ye,aS as et,u as tt,aT as rt,B as at,az as nt,ay as ot}from"./index.81a318d7.js";import{P as Oe}from"./index.fdc8d95f.js";import{S as lt}from"./index.1d92a8a6.js";import{C as it}from"./index.e8a3021e.js";import{s as st}from"./scrollIntoView.e2dbd9f1.js";var ne=globalThis&&globalThis.__assign||function(){return ne=Object.assign||function(t){for(var o,a=1,e=arguments.length;a<e;a++){o=arguments[a];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])}return t},ne.apply(this,arguments)},ct=globalThis&&globalThis.__rest||function(t,o){var a={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&o.indexOf(e)<0&&(a[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(t);r<e.length;r++)o.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(a[e[r]]=t[e[r]]);return a};function ut(t,o){var a=d.exports.useContext(le).getPrefixCls,e=t.className,r=t.avatar,c=t.title,g=t.description,C=ct(t,["className","avatar","title","description"]),f=a("list"),n=f+"-item-meta",j=!!r,T=!!(c||g);return N("div",{...ne({ref:o},C,{className:M(n,e)}),children:[j&&l("div",{className:n+"-avatar",children:r}),T&&N("div",{className:n+"-content",children:[c&&l("div",{className:n+"-title",children:c}),g&&l("div",{className:n+"-description",children:g})]})]})}var Le=B.forwardRef(ut);Le.displayName="ListItemMeta";var Ie=Le,oe=globalThis&&globalThis.__assign||function(){return oe=Object.assign||function(t){for(var o,a=1,e=arguments.length;a<e;a++){o=arguments[a];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])}return t},oe.apply(this,arguments)},pt=globalThis&&globalThis.__rest||function(t,o){var a={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&o.indexOf(e)<0&&(a[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(t);r<e.length;r++)o.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(a[e[r]]=t[e[r]]);return a},ft={actionLayout:"horizontal"};function dt(t,o){var a=d.exports.useContext(le),e=a.getPrefixCls,r=a.componentConfig,c=we(t,ft,r&&r["List.Item"]),g=c.children,C=c.className,f=c.actions,n=c.extra,j=c.actionLayout,T=pt(c,["children","className","actions","extra","actionLayout"]),U=e("list"),w=U+"-item",R=[],L=[];B.Children.forEach(g,function(S){S&&S.type&&S.type===Ie?R.push(S):L.push(S)});var A=L.length?l("div",{className:w+"-content",children:L}):null,I=n?l("div",{className:w+"-extra-content",children:n}):null,$=f&&f.length?l("div",{className:w+"-action",children:f.map(function(S,H){return l("li",{children:S},w+"-action-"+H)})}):null;return N("div",{...oe({role:"listitem",ref:o,className:M(w,C)},T),children:[N("div",{className:w+"-main",children:[R,A,j==="vertical"?$:null]}),j==="horizontal"?$:null,I]})}var gt=B.forwardRef(dt),ie=gt;ie.displayName="ListItem";ie.Meta=Ie;var ht=ie,_=globalThis&&globalThis.__assign||function(){return _=Object.assign||function(t){for(var o,a=1,e=arguments.length;a<e;a++){o=arguments[a];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])}return t},_.apply(this,arguments)},vt=globalThis&&globalThis.__rest||function(t,o){var a={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&o.indexOf(e)<0&&(a[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(t);r<e.length;r++)o.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(a[e[r]]=t[e[r]]);return a},te=globalThis&&globalThis.__read||function(t,o){var a=typeof Symbol=="function"&&t[Symbol.iterator];if(!a)return t;var e=a.call(t),r,c=[],g;try{for(;(o===void 0||o-- >0)&&!(r=e.next()).done;)c.push(r.value)}catch(C){g={error:C}}finally{try{r&&!r.done&&(a=e.return)&&a.call(e)}finally{if(g)throw g.error}}return c},Ne=10,Pe=1,mt=["small","default","large"],yt={split:!0,bordered:!0,defaultCurrent:1,offsetBottom:0,throttleDelay:500};function bt(t,o){var a=d.exports.useContext(le),e=a.getPrefixCls,r=a.loadingElement,c=a.size,g=a.renderEmpty,C=a.componentConfig,f=a.rtl,n=we(t,yt,C==null?void 0:C.List),j=n.style,T=n.wrapperStyle,U=n.className,w=n.wrapperClassName,R=n.children,L=R===void 0?[]:R,A=n.dataSource,I=A===void 0?[]:A,$=n.size,S=n.footer,H=n.header,i=n.pagination,je=n.bordered,Ee=n.split,q=n.render,m=n.grid,ze=n.loading,Te=n.hoverable,V=n.scrollLoading,ce=n.paginationInFooter,Re=n.offsetBottom,ue=n.throttleDelay,ke=n.defaultCurrent,De=n.noDataElement,Fe=n.listRef,W=n.onReachBottom,G=n.onListScroll,Me=$||(mt.indexOf(c)>-1?c:"default"),s=e("list"),Q=d.exports.useRef(null),Z=d.exports.useRef(null),E=d.exports.useRef(null),J=d.exports.useRef(null),K=d.exports.useRef(!0),pe=te(d.exports.useState(i&&typeof i=="object"&&(i.pageSize||i.defaultPageSize)||Ne),2),Be=pe[0],Ae=pe[1],fe=te(d.exports.useState(i&&typeof i=="object"&&(i.current||i.defaultCurrent)||Pe),2),$e=fe[0],He=fe[1],de=te(d.exports.useState(ke),2),X=de[0],Ve=de[1],ge=B.Children.count(L);d.exports.useImperativeHandle(Fe,function(){return{dom:Q.current,scrollIntoView:function(u,p){if(Z.current)Z.current.scrollTo({index:u,options:p});else if(J.current){var y=J.current.children[u];y&&st(y,_({boundary:E.current},p))}},getRootDOMNode:function(){return Q.current}}});var Y=n.virtualListProps?n.virtualListProps:n.height?{height:n.height}:void 0,P=_(_({pageSize:Be,current:$e,total:I.length>0?I.length:ge},typeof i=="object"?i:{}),{onPageSizeChange:function(u,p){Ae(u),i&&typeof i=="object"&&i.onPageSizeChange&&i.onPageSizeChange(u,p)},onChange:function(u,p){He(u),i&&typeof i=="object"&&i.onChange&&i.onChange(u,p)}});P.current=Math.min(P.current,Math.ceil(P.total/P.pageSize));var he=!!(G||W),ve=d.exports.useCallback(Ze(function(){if(G){G(E.current);return}if(!!E.current){var u=E.current,p=u.scrollTop,y=u.scrollHeight,v=u.clientHeight,h=y-(p+v);Math.abs(h)<Re+1?K.current&&(Ve(X+1),W&&W(X+1),K.current=!1):K.current=!0}},ue),[ue,X,G,W]),We=function(){var u=function(v){var h=P.current,b=P.pageSize,O=(h-1)*b;return i&&v.length>O?v.slice(O,O+b):v},p=function(v,h){var b=u(v);return h?b.map(h):b},y=function(v,h){var b=u(v);if(m.column||m.span){for(var O=[],k=m.gutter,x=m.justify,Ge=m.align,Ue=m.column,ye=vt(m,["gutter","justify","align","column"]),ee=Ue||Math.floor(24/m.span),qe=ye.span||Math.floor(24/ee),z=0,Qe=function(){var D=z+ee,F=~~(z/ee);O.push(l(Se,{className:s+"-row",gutter:k,justify:x,align:Ge,children:b.slice(z,D).map(function(be,Ce){return l(_e,{..._({key:F+"_"+Ce,className:s+"-row-col"},ye,{span:qe}),children:h?h(be,z+Ce):be})})},F)),z=D};z<b.length;)Qe();return O}return l(Se,{className:s+"-row",gutter:m.gutter,children:b.map(function(D,F){return l(_e,{..._({className:s+"-row-col"},Ye(m,["gutter"]),{key:F}),children:h?h(D,F):D})})})};return I.length>0&&q?m?y(I,q):p(I,q):ge>0?m?y(L):p(L):V?null:De||g("List")},me=function(){var u,p,y=We(),v=Y&&Y.threshold!==null&&Array.isArray(y),h=i?l(Oe,{..._({},P,{className:M(s+"-pagination",P&&P.className)})}):null,b=ce?h:null,O=ce?null:h,k=V!=null?l("div",{className:s+"-item "+s+"-scroll-loading",children:V}):null;return N("div",{ref:function(x){o=x,Q.current=o},style:T,className:M(s+"-wrapper",(u={},u[s+"-wrapper-rtl"]=f,u),w),children:[N("div",{..._({},Je(n),{style:j,className:M(s,s+"-"+Me,(p={},p[s+"-no-border"]=!je,p[s+"-no-split"]=!Ee,p[s+"-hoverable"]=Te,p[s+"-rtl"]=f,p),U),ref:function(x){v||(E.current=x)},onScroll:!v&&he?ve:void 0}),children:[H?l("div",{className:s+"-header",children:H}):null,v?l(Ke,{children:l(Xe,{..._({role:"list",ref:function(x){x&&(Z.current=x,E.current=x.dom)},className:s+"-content "+s+"-virtual",data:k?y.concat(k):y,isStaticItemHeight:!1,onScroll:he?ve:void 0},Y),children:function(x){return x}})}):N("div",{role:"list",className:s+"-content",ref:J,children:[y,k]}),S||b?N("div",{className:s+"-footer",children:[S,b]}):null]}),O]})};return"loading"in n?l(xe,{style:{display:"block"},loading:ze,element:r||l(xe,{}),children:me()}):me()}var se=B.forwardRef(bt);se.displayName="List";se.Item=ht;var re=se;const Ct="_pagination_1lqx8_15";var ae={"card-title-wrapper":"_card-title-wrapper_1lqx8_1","list-meta-ellipsis":"_list-meta-ellipsis_1lqx8_5",pagination:Ct};const xt={"en-US":{title:"System Announcement",backWorkplace:"Back to Workbench"},"zh-CN":{title:"\u7CFB\u7EDF\u516C\u544A",backWorkplace:"\u8FD4\u56DE\u5DE5\u4F5C\u53F0"}};var St=xt;const{Title:_t,Paragraph:Nt}=nt,{Row:Pt,Col:wt}=ot;function zt(){const t=et(),o=tt(St),[a,e]=d.exports.useState([]),[r,c]=d.exports.useState(!0),[g,C]=d.exports.useState({page:1,pageSize:10,total:void 0});return d.exports.useEffect(()=>{rt().then(f=>{c(!1),e(f.data.pageData),C({page:f.data.page,pageSize:f.data.pageSize,total:f.data.total}),c(!1)})},[]),l(Pt,{children:l(wt,{span:24,children:N(it,{children:[N("div",{className:ae["card-title-wrapper"],children:[l(_t,{heading:6,style:{marginBottom:"8px"},children:o.title}),l(at,{type:"primary",onClick:()=>t.push("/workplace"),children:o.backWorkplace})]}),l(re,{dataSource:a,render:(f,n)=>l(re.Item,{style:{padding:"24px 20px 24px 0px"},children:r?l(lt,{animation:!0,text:{width:["60%","90%"],rows:2}}):l(re.Item.Meta,{className:ae["list-meta-ellipsis"],title:f.title,description:l(Nt,{ellipsis:{rows:1},type:"secondary",style:{fontSize:"12px",margin:0},children:f.summary}),onClick:()=>t.push(`/announcement/detail?uuid=${f.uuid}`)})},n)}),a.length>0&&l(Oe,{className:ae.pagination,total:g.total,pageSize:g.pageSize,current:g.page})]})})})}export{zt as default};
