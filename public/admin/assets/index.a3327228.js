import{aS as g,r as i,aT as h,j as t,B as _,a as n,aR as f,bh as y,l as x,bf as S,bi as N,aA as C}from"./index.3c38f47e.js";import{S as D}from"./index.d71f688f.js";import{P as w}from"./index.30673201.js";import{C as v}from"./index.11e619d2.js";import{I}from"./index.34727ac2.js";import{I as z}from"./index.2e8d53e5.js";const B="_title_1xn31_12",E="_summary_1xn31_36",T="_pagination_1xn31_40";var e={"announcement-list":"_announcement-list_1xn31_1","list-item":"_list-item_1xn31_1",title:B,"meta-info":"_meta-info_1xn31_23","meta-item":"_meta-item_1xn31_31",summary:E,pagination:T};const{Title:b,Paragraph:k}=C;function Q(){const r=g(),[s,m]=i.exports.useState([]),[u,l]=i.exports.useState(!0),[o,p]=i.exports.useState({page:1,pageSize:10,total:void 0});function d(a){switch(a){case"\u516C\u544A":return"orangered";default:return"orangered"}}return i.exports.useEffect(()=>{h().then(a=>{l(!1),m(a.data.pageData),p({page:a.data.page,pageSize:a.data.pageSize,total:a.data.total}),l(!1)})},[]),t(v,{style:{minHeight:"100%"},className:e["announcement-list"],extra:t(_,{type:"text",icon:t(I,{}),onClick:()=>r.push("/workplace"),children:"\u8FD4\u56DE\u5DE5\u4F5C\u53F0"}),children:n(D,{loading:u,text:{rows:3,width:["100%","80%","60%"]},animation:!0,children:[s.map((a,c)=>n("div",{className:e["list-item"],onClick:()=>{r.push(`/announcement/detail?uuid=${a.uuid}`)},children:[n(b,{heading:5,className:e.title,children:[a.title,t(f,{color:d(a.category_name),children:a.category_name})]}),n("div",{className:e["meta-info"],children:[n("span",{className:e["meta-item"],children:[t(z,{})," ",a.published_at]}),n("span",{className:e["meta-item"],children:[t(y,{})," ",a.author]}),n("span",{className:e["meta-item"],children:[t(x,{})," ",a.view_count," \u6B21\u9605\u8BFB"]})]}),t(k,{ellipsis:{rows:2},className:e.summary,children:a.summary}),c!==s.length-1&&t(S,{})]},c)),s.length===0&&t(N,{}),s.length>0&&t(w,{className:e.pagination,total:o.total,pageSize:o.pageSize,current:o.page})]})})}export{Q as default};
