import{aQ as w,u as N,r as n,ay as h,a as u,F as d,j as t,a1 as _,a2 as F,M as s,q as M,aA as I,az as P,B as C,aR as R}from"./index.887e1024.js";import{S as D}from"./index.a39cdcba.js";import{D as j}from"./index.ddfd8ab6.js";import{C as z}from"./index.cadb19cf.js";import{s as i}from"./index.module.fd951a68.js";import{r as O,d as T,e as V}from"./index.00b9a643.js";const G={"en-US":{"menu.list":"List","menu.list.card":"Card List","cardList.tab.title.all":"All","cardList.tab.title.quality":"Content quality","cardList.tab.title.service":"Service opening","cardList.tab.title.rules":"Rule presets","cardList.tab.all.placeholder":"Search","cardList.tab.quality.placeholder":"Search queue","cardList.tab.service.placeholder":"Search service","cardList.tab.rules.placeholder":"Search rule","cardList.searchInput.placeholder":"Search service","cardList.add.quality":"Create quality inspection queue","cardList.enable":"Enable","cardList.disable":"Disable","cardList.action":"action","cardList.detail":"Detail","cardList.tab.title.announcement":"Recent Announcement","cardList.announcement.noData":"No announcement","cardList.statistic.enable":"Enable","cardList.statistic.disable":"Disable","cardList.statistic.applicationNum":"Applications","cardList.options.qualityInspection":"Quality inspection","cardList.options.remove":"Remove","cardList.options.cancel":"Cancel","cardList.options.subscribe":"Subscribe","cardList.options.renewal":"Renewal","cardList.tag.activated":"Activated","cardList.tag.opened":"Already Opened","cardList.tag.expired":"Expired","cardList.options.activate":"activate","cardList.options.disable":"disable"},"zh-CN":{"menu.list":"\u5217\u8868\u9875","menu.list.card":"\u5361\u7247\u5217\u8868","cardList.tab.title.all":"\u5168\u90E8","cardList.tab.title.quality":"\u5185\u5BB9\u8D28\u68C0","cardList.tab.title.service":"\u670D\u52A1\u5F00\u901A","cardList.tab.title.rules":"\u89C4\u5219\u9884\u7F6E","cardList.tab.all.placeholder":"\u641C\u7D22","cardList.tab.quality.placeholder":"\u641C\u7D22\u961F\u5217","cardList.tab.service.placeholder":"\u641C\u7D22\u670D\u52A1","cardList.tab.rules.placeholder":"\u641C\u7D22\u89C4\u5219","cardList.searchInput.placeholder":"\u641C\u7D22\u670D\u52A1","cardList.add.quality":"\u70B9\u51FB\u521B\u5EFA\u8D28\u68C0\u5185\u5BB9\u961F\u5217","cardList.enable":"\u542F\u7528","cardList.disable":"\u7981\u7528","cardList.action":"\u64CD\u4F5C","cardList.detail":"\u8BE6\u7EC6\u4FE1\u606F","cardList.tab.title.announcement":"\u6700\u8FD1\u516C\u544A","cardList.announcement.noData":"\u6682\u65E0\u516C\u544A","cardList.statistic.enable":"\u5DF2\u542F\u7528","cardList.statistic.disable":"\u672A\u542F\u7528","cardList.statistic.applicationNum":"\u5E94\u7528\u6570","cardList.options.qualityInspection":"\u8D28\u68C0","cardList.options.remove":"\u5220\u9664","cardList.options.cancel":"\u53D6\u6D88\u5F00\u901A","cardList.options.subscribe":"\u5F00\u901A\u670D\u52A1","cardList.options.renewal":"\u7EED\u7EA6\u670D\u52A1","cardList.tag.activated":"\u5DF2\u542F\u7528","cardList.tag.opened":"\u5DF2\u5F00\u901A","cardList.tag.expired":"\u5DF2\u8FC7\u671F","cardList.options.activate":"\u6FC0\u6D3B","cardList.options.disable":"\u7981\u7528"}};var Q=G;const{Ellipsis:H}=I,{Row:U,Col:v}=P;function J(c){const{card:a,onEdit:g,reload:o}=c,[B,f]=w.useModal(),p=N(Q),[L,A]=n.exports.useState(!1);n.exports.useState(a.is_active);const[l,r]=n.exports.useState(c.loading),b=async()=>{r(!0),a.is_active===1?await T(a.uuid).then(e=>{e.code===0&&(s.success("\u64CD\u4F5C\u6210\u529F"),o())}).finally(()=>r(!1)):await V(a.uuid).then(e=>{e.code===0&&(s.success("\u64CD\u4F5C\u6210\u529F"),o())}).finally(()=>r(!1))};n.exports.useEffect(()=>{r(c.loading)},[c.loading]);const y=()=>t(d,{children:a.is_active===1?t(C,{loading:l,onClick:e=>{e.stopPropagation(),b()},children:p["cardList.options.disable"]}):t(C,{type:"outline",loading:l,onClick:e=>{e.stopPropagation(),b()},children:p["cardList.options.activate"]})}),E=()=>t(R,{color:"green",className:i.status,size:"small",children:a.status}),x=()=>l?t(D,{text:{rows:4},animation:!0,className:i["card-block-skeleton"]}):t(j,{column:1,data:[{label:"\u6FC0\u6D3B\u72B6\u6001",value:a.is_active?"\u5DF2\u6FC0\u6D3B":"\u672A\u6FC0\u6D3B"},{label:"\u5F00\u59CB\u65F6\u95F4",value:a.start_datetime},{label:"\u7ED3\u675F\u65F6\u95F4",value:a.end_datetime},{label:"\u6D4F\u89C8\u6B21\u6570",value:a.view_count}]}),S=h(i["card-block"]);return u(d,{children:[u(z,{bordered:!0,className:S,size:"small",onClick:()=>{g(a.uuid)},title:l?t(D,{animation:!0,text:{rows:1,width:["100%"]},style:{width:"120px",height:"24px"},className:i["card-block-skeleton"]}):u(d,{children:[u("div",{className:h(i.title,{[i["title-more"]]:L}),children:[u(U,{style:{width:"100%"},children:[t(v,{span:16,children:t(H,{children:a.name})}),t(v,{span:7,flex:"flex-end",children:E()})]}),t(_,{droplist:t(F,{children:["\u5220\u9664","\u8425\u9500\u8BA1\u5212"].map((e,k)=>t(F.Item,{onClick:m=>{m.stopPropagation(),e.includes("\u5220\u9664")?B.confirm({title:"\u5220\u9664\u786E\u8BA4",content:"\u786E\u5B9A\u5220\u9664\u5417\uFF1F",onOk:()=>{m.stopPropagation(),O({uuid:a.uuid}).then(q=>{q.code===0&&(s.success("\u5220\u9664\u6210\u529F"),o())})}}):e.includes("\u5206\u4EAB\u8425\u9500\u8BA1\u5212")?s.success("\u5206\u4EAB\u6210\u529F"):e.includes("\u83B7\u53D6\u5206\u4EAB\u8BB0\u5F55")&&s.success("\u83B7\u53D6\u6210\u529F")},children:e},k.toString()))}),trigger:"hover",onClick:e=>{e.stopPropagation()},onVisibleChange:A,popupVisible:L,children:t("div",{className:i.more,children:t(M,{})})})]}),t("div",{className:i.time,children:a.created_at})]}),children:[t("div",{className:i.content,children:x()}),t("div",{className:i.extra,children:y()})]}),f]})}var tt=Object.freeze(Object.defineProperty({__proto__:null,default:J},Symbol.toStringTag,{value:"Module"}));export{J as C,tt as c,Q as l};
