import{af as Ne,R as ue,r as p,C as ke,f as rr,v as Re,ag as vr,ah as gr,j as b,o as yr,c as X,ai as tr,J as ar,a5 as pr,U as br,aj as nr,ak as xr,b as U,Z as _r,G as kr,al as lr,a6 as mr,a as ne,F as $e,am as Cr,an as Sr,m as Kr,ao as wr,L as Ve,a7 as Q,ap as Nr,n as xe,d as Ke,D as Fe,aq as Pr,ar as Or,as as Tr,V as Dr,e as Er,at as Ir,ab as Lr,au as Ar,p as Rr,g as Vr,_ as Mr,u as jr,i as $r,av as se,aw as Fr,B as ze,ax as Hr,ay as Br,ad as Ue,az as Wr,aA as zr}from"./index.c8db5a65.js";import{T as Ur}from"./index.e8bb3280.js";import{D as Gr}from"./index.682209a8.js";import{I as Jr}from"./index.075b5a1c.js";var ce=globalThis&&globalThis.__assign||function(){return ce=Object.assign||function(r){for(var l,t=1,n=arguments.length;t<n;t++){l=arguments[t];for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&(r[e]=l[e])}return r},ce.apply(this,arguments)},Ge=globalThis&&globalThis.__read||function(r,l){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),e,a=[],o;try{for(;(l===void 0||l-- >0)&&!(e=n.next()).done;)a.push(e.value)}catch(s){o={error:s}}finally{try{e&&!e.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return a},Yr="Autocomplete_"+Math.random(),Je=Ne.Option,qr={defaultActiveFirstOption:!0,triggerElement:b(nr,{})};function Zr(r,l){var t,n=p.exports.useContext(ke),e=n.getPrefixCls,a=n.componentConfig,o=rr(r,qr,a==null?void 0:a.AutoComplete),s=o.style,h=o.className,c=o.children,i=o.data,u=o.defaultValue,f=o.value,d=o.placeholder,v=o.error,y=o.disabled,S=o.strict,O=o.allowClear,k=o.loading,w=o.defaultActiveFirstOption,_=o.triggerElement,m=o.getPopupContainer,N=o.dropdownRender,C=o.virtualListProps,I=o.onFocus,T=o.onBlur,R=o.onChange,K=o.onSearch,L=o.onSelect,E=o.onPressEnter,D=o.inputProps,$=Ge(Re("",{defaultValue:u,value:f}),2),G=$[0],J=$[1],ie=Ge(p.exports.useState(!1),2),P=ie[0],M=ie[1],j=p.exports.useRef(null),F=p.exports.useRef(null),ee=e("autocomplete"),ge="filterOption"in o?o.filterOption:function(g,x){return S?x.props.value.indexOf(g)>-1:x.props.value.toLowerCase().indexOf(g.toLowerCase())>-1},Z=ue.Children.toArray(c),re=null;Z.length&&(vr(Z[0])||gr(Z[0]))?re=c:i&&i.length&&(re=i.map(function(g,x){if(p.exports.isValidElement(g))return g;if(typeof g=="string")return b(Je,{value:g,children:g},x);if(typeof g=="object"){var A=g,V=A.value,H=A.name;return b(Je,{value:V,extra:yr(g,["value","name"]),children:H},x)}return null})),p.exports.useImperativeHandle(l,function(){return j.current});var te=typeof _=="function"?_({value:G}):_,Le=ue.cloneElement(te,ce(ce(ce({ref:function(g){j.current=g;var x=te.ref;typeof x=="function"&&x(g)},className:X(""+ee,D&&D.className,h),style:s,value:G,placeholder:d,error:v,status:o.status,disabled:y,allowClear:O},D),tr(o)),{suffix:k?b(ar,{}):((t=te==null?void 0:te.type)===null||t===void 0?void 0:t.displayName)==="Search"?void 0:(D==null?void 0:D.suffix)||b("i",{}),onFocus:function(g){var x;M(!0),I==null||I(g),(x=D==null?void 0:D.onFocus)===null||x===void 0||x.call(D,g)},onBlur:function(g){var x;M(!1),T==null||T(g),(x=D==null?void 0:D.onBlur)===null||x===void 0||x.call(D,g)},onKeyDown:function(g){var x,A,V,H,Y,q=g.keyCode||g.which;if((A=(x=F.current)===null||x===void 0?void 0:x.hotkeyHandler)===null||A===void 0||A.call(x,g),q===pr.code&&E){var oe=void 0;F.current&&(oe=F.current.getOptionInfoByValue(F.current.activeOptionValue)),E(g,oe)}q===br.code&&((H=(V=j.current)===null||V===void 0?void 0:V.blur)===null||H===void 0||H.call(V)),(Y=D==null?void 0:D.onKeyDown)===null||Y===void 0||Y.call(D,g)},onChange:function(g,x){var A;J(g),K==null||K(g),R==null||R(g),(A=D==null?void 0:D.onChange)===null||A===void 0||A.call(D,g,x)}})),Pe=ce(ce({popupVisible:!!(P&&((i==null?void 0:i.length)||ue.Children.count(c)))},o.triggerProps),{trigger:"focus",className:[ee+"-popup"].concat(o.triggerProps&&o.triggerProps.className)}),Oe={triggerElement:Le,value:Yr,inputValue:G,defaultActiveFirstOption:w,triggerProps:Pe,getPopupContainer:m,dropdownRender:N,filterOption:ge,virtualListProps:C,notFoundContent:null,onChange:function(g,x){var A,V;J(g),R==null||R(g,x),g&&(L==null||L(g,x)),(V=(A=j.current)===null||A===void 0?void 0:A.blur)===null||V===void 0||V.call(A)}};return b(Ne,{...ce({ref:F},Oe),children:re})}var Qr=ue.forwardRef(Zr),Ie=Qr;Ie.displayName="AutoComplete";Ie.Option=Ne.Option;Ie.OptGroup=Ne.OptGroup;var Xr=Ie,Me=globalThis&&globalThis.__assign||function(){return Me=Object.assign||function(r){for(var l,t=1,n=arguments.length;t<n;t++){l=arguments[t];for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&(r[e]=l[e])}return r},Me.apply(this,arguments)};function et(r,l){if(r){xr(r,Me({block:"start",behavior:"auto",scrollMode:"if-needed"},l));var t=r.offsetHeight,n=r.getBoundingClientRect().height;if(l&&l.boundary&&t!==n){var e=U(l.boundary)?l.boundary(r):l.boundary;e.scrollTop=Math.round(e.scrollTop*(t/n))}}}var He=p.exports.createContext({}),de=globalThis&&globalThis.__assign||function(){return de=Object.assign||function(r){for(var l,t=1,n=arguments.length;t<n;t++){l=arguments[t];for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&(r[e]=l[e])}return r},de.apply(this,arguments)};function rt(r){return r.key||r._key}var tt=function(r){var l,t=p.exports.useContext(He),n=p.exports.useContext(ke).getPrefixCls,e=n("tree-node"),a=t.getTreeState(),o=a.expandedKeys,s=a.currentExpandKeys,h=r.expanded,c=p.exports.useRef(r.childrenData);c.current=r.childrenData,p.exports.useEffect(function(){return function(){t.onExpandEnd&&t.onExpandEnd(r._key)}},[]);var i=p.exports.useMemo(function(){var d=[],v=function(y){y.forEach(function(S){var O=t.getFieldInfo(S);d.push(O),O.children&&O.children.length&&v(O.children)})};return v(c.current||[]),d},[h]),u=p.exports.useMemo(function(){var d=[];if(i.length){var v=new Set(o||[]);i.forEach(function(y){var S,O,k=de({},t.key2nodeProps[y.key]);if(h)O=k.parentKey===r._key||((S=k.pathParentKeys)===null||S===void 0?void 0:S.every(function(_){return v.has(_)}));else if(k.pathParentKeys){var w=k.pathParentKeys.indexOf(r._key);O=k.pathParentKeys.slice(w+1).every(function(_){return v.has(_)})}O&&d.push(de(de({},k),{key:y.key}))})}return t.getNodeProps(d)},[i,r._key,h,o]),f=(l=t.virtualListProps)===null||l===void 0?void 0:l.height;return f=_r(f)?f:0,p.exports.useEffect(function(){s.indexOf(r._key)>-1&&u.length===0&&t.onExpandEnd(r._key)},[u,s]),b(kr,{in:s.indexOf(r._key)>-1&&u.length>0,unmountOnExit:!0,classNames:"tree-slide-expand",timeout:{enter:200,exit:0},onEnter:function(d){if(!!d){var v=d.scrollHeight;d.style.height=h?0:Math.min(f||v,d.scrollHeight)+"px"}},onEntering:function(d){if(!!d){var v=d.scrollHeight;d.style.height=h?Math.min(f||v,v)+"px":0}},onEntered:function(d){!d||(d.style.height=r.expanded?"":0,t.onExpandEnd(r._key))},onExit:function(d){!d||(d.style.display="none")},children:b(lr,{...de({itemKey:rt,className:e+"-list",isStaticItemHeight:!1},t.virtualListProps,{data:u,"aria-hidden":!0,style:{overflow:"hidden"}}),children:function(d){return b(we,{...de({},d)})}})})},at=tt,z=globalThis&&globalThis.__assign||function(){return z=Object.assign||function(r){for(var l,t=1,n=arguments.length;t<n;t++){l=arguments[t];for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&(r[e]=l[e])}return r},z.apply(this,arguments)},nt=globalThis&&globalThis.__awaiter||function(r,l,t,n){function e(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(i){try{c(n.next(i))}catch(u){o(u)}}function h(i){try{c(n.throw(i))}catch(u){o(u)}}function c(i){i.done?a(i.value):e(i.value).then(s,h)}c((n=n.apply(r,l||[])).next())})},lt=globalThis&&globalThis.__generator||function(r,l){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,e,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(i){return h([c,i])}}function h(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,e&&(a=c[0]&2?e.return:c[0]?e.throw||((a=e.return)&&a.call(e),0):e.next)&&!(a=a.call(e,c[1])).done)return a;switch(e=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,e=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=l.call(r,t)}catch(i){c=[6,i],e=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Ye=globalThis&&globalThis.__read||function(r,l){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),e,a=[],o;try{for(;(l===void 0||l-- >0)&&!(e=n.next()).done;)a.push(e.value)}catch(s){o={error:s}}finally{try{e&&!e.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return a},it=globalThis&&globalThis.__spreadArray||function(r,l,t){if(t||arguments.length===2)for(var n=0,e=l.length,a;n<e;n++)(a||!(n in l))&&(a||(a=Array.prototype.slice.call(l,0,n)),a[n]=l[n]);return r.concat(a||Array.prototype.slice.call(l))};function ot(r,l){var t,n,e,a=this,o=p.exports.useContext(He),s=p.exports.useContext(ke).getPrefixCls,h=p.exports.useRef(),c=Ye(p.exports.useState({isAllowDrop:!0,isDragOver:!1,dragPosition:0,isDragging:!1}),2),i=c[0],u=c[1],f=r._key,d=f===void 0?"":f,v=r.title,y=r.icon,S=r.checkable,O=r.selected,k=r.disabled,w=r.disableCheckbox,_=r.isLeaf,m=r.draggable,N=r.expanded,C=r.showLine,I=r.loading,T=r.selectable,R=T===void 0?!0:T,K=s("tree-node"),L=X(K,(t={},t[K+"-selected"]=O,t[K+"-is-leaf"]=_,t[K+"-expanded"]=N,t[K+"-disabled-selectable"]=!R,t[K+"-disabled"]=k,t[K+"-draggable"]=m,t),r.className),E=function(){var P=U(o.icons)?o.icons(r):o.icons,M=U(r.icons)?r.icons(r):r.icons;return z(z({},P),M)}(),D=p.exports.useCallback(function(P){P!==N&&o.onExpand&&o.onExpand(P,d)},[N,o.onExpand]),$=p.exports.useCallback(function(){return nt(a,void 0,void 0,function(){var P,M,j;return lt(this,function(F){switch(F.label){case 0:return P=r.isLeaf,M=r.expanded,P?[2]:!(!((j=r.childrenData)===null||j===void 0)&&j.length)&&U(o.loadMore)&&!M?[4,o.loadMore(r)]:[3,2];case 1:return F.sent(),[3,3];case 2:D(!M),F.label=3;case 3:return[2]}})})},[r,D,o.loadMore]),G=function(){if(I)return"loadingIcon"in E?E.loadingIcon:b(ar,{});var P=null,M=!1;if(_)C&&(P="switcherIcon"in E?E.switcherIcon:b(Jr,{}),M=!0);else{var j=C?b("span",{className:K+"-"+(N?"minus":"plus")+"-icon"}):b(wr,{});P="switcherIcon"in E?E.switcherIcon:j,M=!C}if(P)return P=b("span",{className:K+"-switcher-icon","aria-label":N?"fold button":"expand button",role:"button",tabIndex:0,onClick:$,children:P}),M?b(Kr,{prefix:K,children:P}):P},J=p.exports.useCallback(mr(function(P){var M=h.current;if(!!M){var j=M.getBoundingClientRect(),F=window.pageYOffset+j.top,ee=P.pageY,ge=j.height/4,Z=ee-F,re=Z<ge?-1:Z<j.height-ge?0:1,te=o.allowDrop(r,re);u(z(z({},i),{isAllowDrop:te,isDragOver:!0,dragPosition:re})),o.onNodeDragOver&&o.onNodeDragOver(P,r,re)}}),[o.onNodeDragOver]),ie=p.exports.useCallback(function(P,M){var j=r.disableCheckbox,F=r.disabled;j||F||o.onCheck&&o.onCheck(P,d,M)},[r.disabled,r.disableCheckbox]);return ne($e,{children:[ne("div",{style:r.style,className:L,ref:l,role:"treeitem","aria-disabled":k,"aria-expanded":N,"aria-level":r._level,children:[b("span",{className:K+"-indent","aria-hidden":!0,children:it([],Ye(Array(r._level)),!1).map(function(P,M){var j;return b("span",{className:X(K+"-indent-block",(j={},j[K+"-indent-block-lineless"]=r._lineless&&r._lineless[M],j))},M)})}),b("span",{className:X(K+"-switcher",(n={},n[K+"-switcher-expanded"]=N,n)),children:G()}),S?b(Cr,{disabled:w||k,value:d,indeterminate:r.indeterminated,checked:r.checked,onChange:ie}):null,ne("span",{"aria-grabbed":i.isDragging,ref:h,className:X(K+"-title",(e={},e[K+"-title-draggable"]=m,e[K+"-title-gap-top"]=i.isDragOver&&i.isAllowDrop&&i.dragPosition<0,e[K+"-title-gap-bottom"]=i.isDragOver&&i.isAllowDrop&&i.dragPosition>0,e[K+"-title-highlight"]=!i.isDragging&&i.isDragOver&&i.isAllowDrop&&i.dragPosition===0,e[K+"-title-dragging"]=i.isDragging,e[K+"-title-block"]=r.blockNode,e)),onClick:function(P){var M=o.onSelect,j=o.actionOnClick;if(!r.disabled){var F=[].concat(j);R&&F.indexOf("select")>-1&&M&&M(d,P),F.indexOf("expand")>-1&&$(),S&&F.indexOf("check")>-1&&ie(!r.checked,P)}},draggable:m,onDrop:function(P){P.stopPropagation(),P.preventDefault(),o.onNodeDrop&&o.onNodeDrop(P,r,i.dragPosition),J.cancel(),u(z(z({},i),{isDragOver:!1,dragPosition:0}))},onDragStart:function(P){if(!!m){P.stopPropagation(),u(z(z({},i),{isDragging:!0}));try{P.dataTransfer.setData("text/plain","")}catch{}o.onNodeDragStart&&o.onNodeDragStart(P,r)}},onDragEnd:function(P){!m||(P.stopPropagation(),J.cancel(),u(z(z({},i),{isDragOver:!1,isDragging:!1})),o.onNodeDragEnd&&o.onNodeDragEnd(P,r))},onDragOver:function(P){P.preventDefault(),P.stopPropagation(),P.persist(),J(P)},onDragLeave:function(P){!m||(P.stopPropagation(),J.cancel(),u(z(z({},i),{isDragOver:!1})),o.onNodeDragLeave&&o.onNodeDragLeave(P,r))},children:[y&&b("span",{className:K+"-icon "+K+"-custom-icon",children:y}),b("span",{className:K+"-title-text",children:U(o.renderTitle)?o.renderTitle(r):v}),m&&b("span",{className:K+"-icon "+K+"-drag-icon",children:"dragIcon"in E?E.dragIcon:b(Sr,{})})]}),U(o.renderExtra)&&o.renderExtra(r)]}),o.animation&&b(at,{...z({},r)})]})}var ir=p.exports.forwardRef(ot);ir.displayName="TreeNode";var we=ue.memo(ir),be=globalThis&&globalThis.__assign||function(){return be=Object.assign||function(r){for(var l,t=1,n=arguments.length;t<n;t++){l=arguments[t];for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&(r[e]=l[e])}return r},be.apply(this,arguments)},st=globalThis&&globalThis.__read||function(r,l){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),e,a=[],o;try{for(;(l===void 0||l-- >0)&&!(e=n.next()).done;)a.push(e.value)}catch(s){o={error:s}}finally{try{e&&!e.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return a},ct=globalThis&&globalThis.__spreadArray||function(r,l,t){if(t||arguments.length===2)for(var n=0,e=l.length,a;n<e;n++)(a||!(n in l))&&(a||(a=Array.prototype.slice.call(l,0,n)),a[n]=l[n]);return r.concat(a||Array.prototype.slice.call(l))};function ut(r){return r.key||r._key}function dt(r,l){var t=r.className,n=r.style,e=r.filterNode,a=r.virtualListProps,o=r.expandedKeys,s=r.currentExpandKeys,h=r.nodeList,c=r.getNodeProps,i=r.getDataSet,u=(a==null?void 0:a.threshold)!==null,f=p.exports.useRef(),d=p.exports.useRef(),v=p.exports.useRef(),y=p.exports.useMemo(function(){return new Set(o)},[o]),S=p.exports.useMemo(function(){var w=new Set,_=new Set(s);return h.forEach(function(m){var N=m.pathParentKeys||[];N.every(function(C){return!_.has(C)&&y.has(C)})&&w.add(m._key)}),w},[y,s,h]),O=function(){return h.filter(function(w){var _=!e||e&&e(w);return!!(_&&S.has(w.key))})},k=p.exports.useMemo(function(){return O()},[h,e,S]);return p.exports.useImperativeHandle(l,function(){return{scrollIntoView:function(w,_){var m=w,N=typeof w=="string";if(N){var C=w;!S.has(w)&&_&&_.pathParentKeys&&(C=ct([],st(_.pathParentKeys),!1).reverse().find(function(R){return S.has(R)})||m),m=k.findIndex(function(R){var K=R._key;return K===C})}if(!u&&d.current){var I=d.current,T=I?I.children[m]:null;T&&et(T,{boundary:I.parentElement})}else f.current&&f.current.scrollTo({index:m})}}}),u?b(lr,{...be({className:t,style:n,ref:f,data:k,isStaticItemHeight:!1,itemKey:ut,onMouseDown:r.onMouseDown},r.ariaProps,a),children:function(w,_,m){var N=m.itemIndex;N===0&&(v.current=i());var C=c(w,v.current),I=b(we,{...be({},w,{key:w.key},C)});return I}}):b("div",{...be({role:"tree",tabIndex:0,className:t,style:n,ref:d},r.ariaProps,{onMouseDown:r.onMouseDown}),children:k.map(function(w){var _=c(w),m=b(we,{...be({},_,{key:w.key})});return m})})}var ft=p.exports.forwardRef(dt),Ee=globalThis&&globalThis.__assign||function(){return Ee=Object.assign||function(r){for(var l,t=1,n=arguments.length;t<n;t++){l=arguments[t];for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&(r[e]=l[e])}return r},Ee.apply(this,arguments)},he=globalThis&&globalThis.__read||function(r,l){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),e,a=[],o;try{for(;(l===void 0||l-- >0)&&!(e=n.next()).done;)a.push(e.value)}catch(s){o={error:s}}finally{try{e&&!e.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return a},ve=globalThis&&globalThis.__spreadArray||function(r,l,t){if(t||arguments.length===2)for(var n=0,e=l.length,a;n<e;n++)(a||!(n in l))&&(a||(a=Array.prototype.slice.call(l,0,n)),a[n]=l[n]);return r.concat(a||Array.prototype.slice.call(l))},or=function(r){var l=function(t){return ue.Children.map(t,function(n){if(!!ue.isValidElement(n)){var e=n.key;return Ee(Ee({},n.props),{key:e,children:l(n.props.children)})}})};return l(r)};function sr(r,l){var t=new Set,n=function(e){e.map(function(a){var o=a.key,s=l[o];!s||s.disabled||s.disableCheckbox||s.checkable===!1||(t.add(o),n(s.children||[]))})};return r&&n(r.children||[]),t}var cr=function(r,l,t,n){var e=ve([],he(l[r].pathParentKeys),!1);e.reverse().some(function(a){var o=l[a];if(o&&!o.disabled&&!o.disableCheckbox&&o.checkable!==!1){var s=0,h=0;o.children.some(function(c){var i=c.key,u=l[i];if(!u||u.disabled||u.disableCheckbox||u.checkable===!1)return!1;if(s++,t.has(i))h++;else if(n.has(i))return h+=.5,!0}),!h||h===s?n.delete(a):n.add(a),h&&h===s?t.add(a):t.delete(a)}else return!0})};function ur(r,l){var t=new Set(r||[]),n=new Set,e=new Set;return r.forEach(function(a){if(!e.has(a)){var o=sr(l[a],l);o.forEach(function(s){e.add(s)})}l[a]&&!l[a].pathParentKeys.some(function(s){return t.has(s)})&&cr(a,l,t,n)}),{checkedKeys:ve([],he(new Set(ve(ve([],he(t),!1),he(e),!1))),!1),indeterminateKeys:ve([],he(n),!1)}}function dr(r,l,t,n,e){if(!n[r])return{checkedKeys:t,indeterminateKeys:e};var a=new Set(t),o=new Set(e),s=sr(n[r],n),h=a;return l?(h.add(r),o.delete(r),s.forEach(function(c){h.add(c)})):(o.delete(r),h.delete(r),s.forEach(function(c){h.delete(c)})),cr(r,n,a,o),{checkedKeys:ve([],he(h),!1),indeterminateKeys:ve([],he(o),!1)}}var ht=globalThis&&globalThis.__extends||function(){var r=function(l,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])},r(l,t)};return function(l,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(l,t);function n(){this.constructor=l}l.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),B=globalThis&&globalThis.__assign||function(){return B=Object.assign||function(r){for(var l,t=1,n=arguments.length;t<n;t++){l=arguments[t];for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&(r[e]=l[e])}return r},B.apply(this,arguments)},vt=globalThis&&globalThis.__awaiter||function(r,l,t,n){function e(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(i){try{c(n.next(i))}catch(u){o(u)}}function h(i){try{c(n.throw(i))}catch(u){o(u)}}function c(i){i.done?a(i.value):e(i.value).then(s,h)}c((n=n.apply(r,l||[])).next())})},gt=globalThis&&globalThis.__generator||function(r,l){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,e,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(i){return h([c,i])}}function h(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,e&&(a=c[0]&2?e.return:c[0]?e.throw||((a=e.return)&&a.call(e),0):e.next)&&!(a=a.call(e,c[1])).done)return a;switch(e=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,e=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=l.call(r,t)}catch(i){c=[6,i],e=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},yt=globalThis&&globalThis.__rest||function(r,l){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&l.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var e=0,n=Object.getOwnPropertySymbols(r);e<n.length;e++)l.indexOf(n[e])<0&&Object.prototype.propertyIsEnumerable.call(r,n[e])&&(t[n[e]]=r[n[e]]);return t},ae=globalThis&&globalThis.__read||function(r,l){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),e,a=[],o;try{for(;(l===void 0||l-- >0)&&!(e=n.next()).done;)a.push(e.value)}catch(s){o={error:s}}finally{try{e&&!e.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return a},W=globalThis&&globalThis.__spreadArray||function(r,l,t){if(t||arguments.length===2)for(var n=0,e=l.length,a;n<e;n++)(a||!(n in l))&&(a||(a=Array.prototype.slice.call(l,0,n)),a[n]=l[n]);return r.concat(a||Array.prototype.slice.call(l))},fr={key:"key",title:"title",children:"children",selectable:"selectable",disabled:"disabled",disableCheckbox:"disableCheckbox",checkable:"checkable",isLeaf:"isLeaf"},pt={selectable:!0,autoExpandParent:!0,checkedStrategy:"all",actionOnClick:"select",allowDrop:function(){return!0},fieldNames:fr,animation:!0},bt=["style","className","height","size","blockNode","autoExpandParent","checkedStrategy","fieldNames","icons","virtualListProps","showLine","selectable","allowDrop","actionOnClick","animation"],xt=function(r){ht(l,r);function l(t,n){var e=r.call(this,t,n)||this;e.key2nodeProps={},e.getMergedProps=function(i){var u=e.context.componentConfig,f=i||e.props,d=(u==null?void 0:u.Tree)||{},v={};return bt.forEach(function(y){Ve(f[y])?Ve(d[y])?v[y]=pt[y]:v[y]=d[y]:v[y]=f[y]}),v},e.scrollIntoView=function(i,u){var f=i;u&&(f=u._key),e.nodeListRef&&e.nodeListRef.scrollIntoView(f,u||e.key2nodeProps[f])},e.getTreeData=function(){return"treeData"in e.props?e.props.treeData:or(e.props.children)},e.needUpdateTreeData=function(i,u){var f=["fieldNames","selectable","draggable","checkStrictly","showLine","blockNode","checkable","treeData","children"];return i.treeData!==u.treeData||i.children!==u.children||f.some(function(d){return!Q(i[d],u[d])})},e.getFieldInfo=function(i){var u=e.getMergedProps(),f=u.selectable,d=B(B({},fr),"treeData"in e.props?u.fieldNames:{}),v={children:i[d.children],selectable:d.selectable in i?i[d.selectable]:f,checkable:d.checkable in i?i[d.checkable]:e.props.checkable,title:i[d.title],disabled:i[d.disabled],disableCheckbox:i[d.disableCheckbox],isLeaf:i[d.isLeaf],key:i[d.key]};return d.key in i||delete v.key,v},e.getNodeList=function(i,u){e.key2nodeProps={};var f=u||e.context.getPrefixCls("tree"),d=[],v=0,y=e.getMergedProps(),S=y.showLine,O=y.blockNode,k=function(w,_){var m=w.length;return w.map(function(N,C){var I=e.getFieldInfo(N),T=I.children,R=I.selectable,K=I.checkable,L=I.key,E=L===void 0?((_==null?void 0:_._key)||"")+"-"+C:L,D=yt(I,["children","selectable","checkable","key"]),$=B(B(B({dataRef:N,draggable:e.props.draggable,selectable:R,checkable:K,showLine:S,blockNode:O},N),D),{key:E,children:T,_key:E,_index:v++,parentKey:_?_._key:void 0,pathParentKeys:_&&_.pathParentKeys||[],_level:_._level||0,_lineless:_&&_._lineless?W(W([],ae(_._lineless||[]),!1),[_._isTail],!1):[]});return m===C+1&&($.className=X(f+"-node-is-tail",$.className)),d.push($),e.key2nodeProps[E]=$,T&&T.length&&(e.key2nodeProps[E].children=k(T,{_key:E,_level:$._level+1,_lineless:$._lineless,_isTail:m===C+1,pathParentKeys:W(W([],ae((_==null?void 0:_.pathParentKeys)||[]),!1),[E],!1)})),$})};return k(i||[],{}),d},e.getInitExpandedKeys=function(i){if(!e.getMergedProps().autoExpandParent)return i||[];if(!i)return Object.keys(e.key2nodeProps).filter(function(f){var d=e.key2nodeProps[f];return d.children&&d.children.length});var u={};return i.forEach(function(f){var d=e.key2nodeProps[f];!d||(u[f]=1,d.pathParentKeys&&d.pathParentKeys.forEach(function(v){u[v]=1}))}),Object.keys(u)},e.getInitCheckedKeys=function(i){if(!e.props.checkStrictly){var u=ur(i,e.key2nodeProps),f=u.checkedKeys,d=u.indeterminateKeys;return{checkedKeys:f,halfCheckedKeys:d}}return{checkedKeys:i,halfCheckedKeys:e.props.halfCheckedKeys||[]}},e.handleSelect=function(i,u){var f=e.props.onSelect,d={e:u,node:e.getCacheNode([i])[0]};if(e.props.multiple){var v=W([],ae(e.state.selectedKeys),!1),y=v.indexOf(i);y>-1?(v.splice(y,1),d.selected=!1):(d.selected=!0,v.push(i)),d.selectedNodes=e.getCacheNode(v),"selectedKeys"in e.props||e.setState({selectedKeys:v}),f&&f(v,d)}else d.selected=!0,d.selectedNodes=e.getCacheNode([i]),"selectedKeys"in e.props||e.setState({selectedKeys:[i]}),f&&f([i],d)},e.handleCheck=function(i,u,f){var d=e.getMergedProps().checkedStrategy,v=e.props,y=v.onCheck,S=v.checkStrictly,O={e:f,node:e.getCacheNode([u])[0]},k=e.state.checkedKeys,w=e.state.halfCheckedKeys;if(S){i?k=k.concat(u):k=k.filter(function(I){return I!==u});var _={};"checkedKeys"in e.props||(_.checkedKeys=k),"halfCheckedKeys"in e.props||(_.halfCheckedKeys=w),Nr(_)||e.setState(B({},_))}else{var m=dr(u,i,k,e.key2nodeProps,w),N=m.checkedKeys,C=m.indeterminateKeys;k=N,w=C,"checkedKeys"in e.props?e.setState({halfCheckedKeys:w}):e.setState({checkedKeys:k,halfCheckedKeys:w}),d===l.SHOW_PARENT?k=k.filter(function(I){var T=e.key2nodeProps[I];if(!T||k.indexOf(T.parentKey)===-1)return!0}):d===l.SHOW_CHILD&&(k=k.filter(function(I){var T,R,K=e.key2nodeProps[I];if(!K||!(!((T=K.children)===null||T===void 0)&&T.length)||((R=K.children)===null||R===void 0?void 0:R.every(function(L){return k.indexOf(L._key)===-1})))return!0}))}y&&y(k,B({checkedNodes:e.getCacheNode(k),checked:i,halfCheckedKeys:w,halfCheckedNodes:e.getCacheNode(w)},O))},e.handleLoadMore=function(i){var u=e.props.loadMore;if(U(u)){var f=e.state,d=f.loadingKeys,v=d===void 0?[]:d,y=f.loadedKeys;e.setState({loadingKeys:Array.from(new Set(W(W([],ae(v),!1),[i._key],!1))),loadedKeys:y.filter(function(S){return S!==i._key})},function(){return vt(e,void 0,void 0,function(){var S;return gt(this,function(O){switch(O.label){case 0:return O.trys.push([0,2,,3]),[4,u(this.getCacheNode([i._key])[0])];case 1:return O.sent(),this.setState({loadedKeys:Array.from(new Set(W(W([],ae(this.state.loadedKeys),!1),[i._key],!1))),loadingKeys:this.state.loadingKeys.filter(function(k){return k!==i._key})}),this.handleExpand(!i.expanded,i._key),[3,3];case 2:return S=O.sent(),console.error("[tree]load data error: ",S),this.setState({loadingKeys:this.state.loadingKeys.filter(function(k){return k!==i._key})}),[3,3];case 3:return[2]}})})})}},e.handleNodeDragStart=function(i,u){e.dragNode=e.getCacheNode([u._key])[0],e.dropPosition=0;var f=e.props.onDragStart;f&&f(i,e.getCacheNode([u._key])[0])},e.handleNodeDragEnd=function(i,u){e.dragNode=null,e.dropPosition=0;var f=e.props.onDragEnd;f&&f(i,e.getCacheNode([u._key])[0])},e.handleNodeDragOver=function(i,u,f){e.dropPosition=f;var d=e.props.onDragOver;d&&d(i,e.getCacheNode([u._key])[0])},e.handleNodeDragLeave=function(i,u){e.dropPosition=0;var f=e.props.onDragLeave;f&&f(i,e.getCacheNode([u._key])[0])},e.isChildOfNode=function(i,u){for(var f=e.key2nodeProps[i.parentKey];f;){var d=f._key,v=f.parentKey;if(d===u.props._key)return!0;if(v===d)return;f=e.key2nodeProps[v]}},e.isSameNode=function(i,u){if(i===void 0||u===void 0)return!1;if(i===u)return!0;var f=i.key,d=u.key;if(f!==void 0||d!==void 0)return f===d;var v=i.props._key,y=u.props._key;return v===void 0&&y===void 0?!1:v===y},e.handleNodeDrop=function(i,u,f){if(e.dragNode){var d=e.getMergedProps().allowDrop,v=e.props.onDrop,y=e.getCacheNode([u._key])[0];if(v&&!e.isChildOfNode(u,e.dragNode)&&!e.isSameNode(e.dragNode,y)){if(d&&!d({dropNode:y,dragNode:e.dragNode,dropPosition:f}))return;v({dragNode:e.dragNode,dropNode:y,dropPosition:f,e:i})}}},e.handleAllowDrop=function(i,u){var f=e.getMergedProps().allowDrop,d=!0;return typeof f=="function"&&(d=f({dropNode:e.getCacheNode([i._key])[0],dragNode:e.dragNode,dropPosition:u})),d},e.handleExpand=function(i,u){var f=e.state,d=f.currentExpandKeys,v=f.expandedKeys,y=v===void 0?[]:v,S=e.getMergedProps().animation,O=e.props.onExpand;if(!(d.indexOf(u)>-1)){var k=[];i?k=Array.from(new Set(W(W([],ae(y),!1),[u],!1))):k=y.filter(function(w){return w!==u}),"expandedKeys"in e.props||e.setState({expandedKeys:k,currentExpandKeys:S?W(W([],ae(d),!1),[u],!1):[]}),O&&O(k,{expanded:i,node:e.getCacheNode([u])[0],expandedNodes:e.getCacheNode(k)})}},e.getCacheNode=function(i){var u=e.props.__ArcoAdapterMode__,f=[];[].concat(i).forEach(function(v){var y=e.key2nodeProps[v];y&&f.push(y)});var d=e.getNodeProps(f);return d.map(function(v){return u?{props:v,key:i}:b(we,{...B({},v,{key:v.key})})})},e.getDataSet=function(i){var u,f,d,v;return{expandedKeysSet:(i==null?void 0:i.expandedKeysSet)||new Set(((u=e.state)===null||u===void 0?void 0:u.expandedKeys)||[]),checkedKeysSet:(i==null?void 0:i.checkedKeysSet)||new Set(((f=e.state)===null||f===void 0?void 0:f.checkedKeys)||[]),selectedKeysSet:(i==null?void 0:i.selectedKeysSet)||new Set(((d=e.state)===null||d===void 0?void 0:d.selectedKeys)||[]),halfCheckedKeysSet:(i==null?void 0:i.halfCheckedKeysSet)||new Set(((v=e.state)===null||v===void 0?void 0:v.halfCheckedKeys)||[])}},e.getNodeProps=function(i,u){var f=e.getMergedProps().autoExpandParent,d=e.props.loadMore,v=e.state,y=v.selectedKeys,S=v.expandedKeys,O=v.checkedKeys,k=v.loadingKeys,w=k===void 0?[]:k,_=v.loadedKeys,m=_===void 0?[]:_,N=e.getDataSet(u),C=N.expandedKeysSet,I=N.checkedKeysSet,T=N.selectedKeysSet,R=N.halfCheckedKeysSet,K=function(L){var E=L.children&&L.children.length,D={isLeaf:!E,autoExpandParent:E?f:!1,expanded:C?C.has(L._key):S.indexOf(L._key)>-1};if(d){var $=m.indexOf(L._key)>-1;D.loaded=$,D.isLeaf=E?!1:L.isLeaf}return B(B(B({},L),D),{selected:T.has(L._key),indeterminated:R.has(L._key),loading:w.indexOf(L._key)>-1,checked:I.has(L._key),selectedKeys:y,checkedKeys:O,loadingKeys:w,loadedKeys:m,expandedKeys:S,childrenData:L.children||[],children:null})};return xe(i)?i.map(function(L){return K(L)}):K(i)},e.handleExpandEnd=function(i){e.setState(function(u){var f=u.currentExpandKeys;return f.indexOf(i)>-1?{currentExpandKeys:f.filter(function(d){return d!==i})}:{}})},e.getTreeState=function(){return e.state},e.state={};var a=e.getTreeData(),o=e.getNodeList(a,n.getPrefixCls("tree")),s=e.getInitCheckedKeys(t.checkedKeys||t.defaultCheckedKeys||[]),h=s.checkedKeys,c=s.halfCheckedKeys;return e.state={selectedKeys:t.selectedKeys||t.defaultSelectedKeys||[],checkedKeys:h,halfCheckedKeys:c,expandedKeys:e.getInitExpandedKeys(t.expandedKeys||t.defaultExpandedKeys),loadedKeys:[],loadingKeys:[],currentExpandKeys:[],nodeList:o},e}return l.getDerivedStateFromProps=function(t,n){var e={};return"selectedKeys"in t&&!Q(t.selectedKeys,n.selectedKeys)&&(e.selectedKeys=t.selectedKeys||[]),Object.keys(e).length?e:null},l.prototype.componentDidUpdate=function(t){var n=this,e=this.getMergedProps(t),a=this.getMergedProps();if(t!==this.props||!Q(e,a)){var o={};if(this.needUpdateTreeData(B(B({},e),t),B(B({},a),this.props))){var s=this.getTreeData(),h=this.getNodeList(s);o.treeData=s,o.nodeList=h}if(o.treeData||"checkedKeys"in this.props&&!Q(t.checkedKeys,this.props.checkedKeys)){var c="checkedKeys"in this.props?this.props.checkedKeys:this.state.checkedKeys,i=this.getInitCheckedKeys(c||[]),u=i.halfCheckedKeys,f=i.checkedKeys;Q(f,this.state.checkedKeys)||(o.checkedKeys=f),Q(u,this.state.halfCheckedKeys)||(o.halfCheckedKeys=u)}this.props.checkStrictly&&"halfCheckedKeys"in this.props&&!Q(t.halfCheckedKeys,this.props.halfCheckedKeys)&&(o.halfCheckedKeys=this.props.halfCheckedKeys),"expandedKeys"in this.props&&!Q(this.props.expandedKeys,t.expandedKeys)&&(o.expandedKeys=this.props.expandedKeys,o.currentExpandKeys=a.animation?W(W([],ae(o.expandedKeys),!1),ae(this.state.expandedKeys),!1).reduce(function(v,y){var S=v.indexOf(y);return S===-1?v.push(y):v.splice(S,1),v},[]).filter(function(v,y,S){var O;if(n.key2nodeProps[v]){var k=n.key2nodeProps[v].pathParentKeys;return k.some(function(w){return S.indexOf(w)>-1})?!1:(O=n.key2nodeProps[v].children)===null||O===void 0?void 0:O.length}}):[]);var d=o.currentExpandKeys||this.state.currentExpandKeys;o.treeData&&d&&(o.currentExpandKeys=d.filter(function(v){var y=o.treeData.find(function(S){return S.key===v});return y&&y.children&&y.children.length})),Object.keys(o).length&&this.setState(o)}},l.prototype.render=function(){var t,n=this,e=this.getMergedProps(),a=e.className,o=e.showLine,s=e.size,h=e.virtualListProps,c=e.height,i=e.style,u=e.icons,f=e.actionOnClick,d=e.animation,v=this.props,y=v.loadMore,S=v.checkable,O=h?B({threshold:100},h):c?{height:c,threshold:100}:{threshold:null},k=this.context,w=k.getPrefixCls,_=k.rtl,m=w("tree");return b(He.Provider,{value:{icons:u,animation:d,key2nodeProps:this.key2nodeProps,getFieldInfo:this.getFieldInfo,getTreeState:this.getTreeState,getNodeProps:this.getNodeProps,onExpandEnd:d?this.handleExpandEnd:function(){},onSelect:this.handleSelect,onCheck:this.handleCheck,onNodeDragStart:this.handleNodeDragStart,onNodeDragEnd:this.handleNodeDragEnd,onNodeDragLeave:this.handleNodeDragLeave,onNodeDragOver:this.handleNodeDragOver,onNodeDrop:this.handleNodeDrop,onExpand:this.handleExpand,renderExtra:this.props.renderExtra,renderTitle:this.props.renderTitle,loadMore:y&&this.handleLoadMore,allowDrop:this.handleAllowDrop,actionOnClick:f,virtualListProps:O},children:b(ft,{ref:function(N){n.nodeListRef=N},className:X(m,(t={},t[m+"-checkable"]=S,t[m+"-show-line"]=o,t[m+"-size-"+s]=s,t[m+"-rtl"]=_,t),a),style:i,filterNode:this.props.filterNode,virtualListProps:O,expandedKeys:this.state.expandedKeys,currentExpandKeys:this.state.currentExpandKeys,getNodeProps:this.getNodeProps,getDataSet:this.getDataSet,nodeList:this.state.nodeList,onMouseDown:this.props.onMouseDown,ariaProps:B({role:"tree","aria-multiselectable":this.props.multiple,tabIndex:0},tr(this.props))})})},l.displayName="Tree",l.SHOW_PARENT="parent",l.SHOW_ALL="all",l.SHOW_CHILD="child",l.Node=we,l.contextType=ke,l}(p.exports.Component),le=xt,Te=function(r){var l=r;return xe(r)||(l=r==null?[]:[r]),l.map(function(t){return Ke(t)?t.value:t})},Se=globalThis&&globalThis.__assign||function(){return Se=Object.assign||function(r){for(var l,t=1,n=arguments.length;t<n;t++){l=arguments[t];for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&(r[e]=l[e])}return r},Se.apply(this,arguments)},_t=globalThis&&globalThis.__read||function(r,l){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),e,a=[],o;try{for(;(l===void 0||l-- >0)&&!(e=n.next()).done;)a.push(e.value)}catch(s){o={error:s}}finally{try{e&&!e.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return a},De=function(r,l,t){if(r==null)return[];var n=xe(r)?r:[r];return n.map(function(e){var a=Ke(e)?Se({},e):{value:e,label:void 0},o=l[a.value];if(o)a.label=a.label||o.title,a.disabled=o.disabled;else if(xe(t)){var s=t.find(function(h){return h.value===a.value});a=Se(Se({},a),s)}return Ve(a.label)&&(a.label=a.value),a})},kt=function(r,l,t,n){if(!n.treeCheckStrictly){var e=ur(r,l),a=e.checkedKeys,o=e.indeterminateKeys,s=a;return t.current=o,n.treeCheckedStrategy===le.SHOW_PARENT?s=s.filter(function(h){var c=l[h];if(!c||s.indexOf(c.parentKey)===-1)return!0}):n.treeCheckedStrategy===le.SHOW_CHILD&&(s=s.filter(function(h){var c=l[h];if(!c||!c.children||!c.children.length)return!0})),s}return t.current=[],r},mt=function(r,l,t){var n=p.exports.useRef([]),e=function(){var i=r.value||r.defaultValue||[];if(r.treeCheckable){var u=kt(Te(i),l,t,r),f=De(i,l,n.current),d=De(u,l,f);return d}return De(i,l)},a=_t(p.exports.useState(e),2),o=a[0],s=a[1],h=function(i){n.current=i,s(i)};Fe(function(){var i=e();"value"in r&&(r.labelInValue?Q(Te(o),Te(i))||h(i):Q(o,i)||h(i))},[r.treeCheckedStrategy,r.treeCheckStrictly,r.treeCheckable,r.value,l]);var c=p.exports.useCallback(function(i,u){var f=r.onChange,d=r.labelInValue,v=r.multiple||r.treeCheckable;"value"in r||h(i);var y;v?y=i.map(function(S){return d?{label:S.label,value:S.value}:S.value}):y=d?i[0]:i[0]&&i[0].value,f&&f(y,u)},[r.onChange,r.labelInValue,r.multiple,r.treeCheckable,r.value]);return[o,c]},Ct=mt,hr={key:"key",title:"title",children:"children",selectable:"selectable",disabled:"disabled",disableCheckbox:"disableCheckbox",checkable:"checkable",isLeaf:"isLeaf"},St=globalThis&&globalThis.__read||function(r,l){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),e,a=[],o;try{for(;(l===void 0||l-- >0)&&!(e=n.next()).done;)a.push(e.value)}catch(s){o={error:s}}finally{try{e&&!e.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return a};function Kt(r){var l=Pr(r)||{},t=function(){return r.treeData||or(r.children)},n=St(p.exports.useState(t()),2),e=n[0],a=n[1];return Fe(function(){(r.treeData!==l.treeData||r.children!==l.children)&&a(t())},[r]),[e]}var _e=globalThis&&globalThis.__assign||function(){return _e=Object.assign||function(r){for(var l,t=1,n=arguments.length;t<n;t++){l=arguments[t];for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&(r[e]=l[e])}return r},_e.apply(this,arguments)},wt=globalThis&&globalThis.__read||function(r,l){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),e,a=[],o;try{for(;(l===void 0||l-- >0)&&!(e=n.next()).done;)a.push(e.value)}catch(s){o={error:s}}finally{try{e&&!e.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return a},qe=globalThis&&globalThis.__spreadArray||function(r,l,t){if(t||arguments.length===2)for(var n=0,e=l.length,a;n<e;n++)(a||!(n in l))&&(a||(a=Array.prototype.slice.call(l,0,n)),a[n]=l[n]);return r.concat(a||Array.prototype.slice.call(l))},Ze=function(r,l,t){var n={},e=0,a=function(o,s){var h=o.length;return o.map(function(c,i){var u=c[t.children],f=t.key in c?c[t.key]:((s==null?void 0:s._key)||"")+"-"+i,d=_e(_e({},c),{title:c[t.title],selectable:c[t.selectable],disabled:c[t.disabled],disableCheckbox:c[t.disableCheckbox],checkable:c[t.checkable],isLeaf:c[t.isLeaf],key:f,children:u,_key:f,parentKey:s?s._key:void 0,pathParentKeys:s&&s.pathParentKeys||[],_level:s._level||0,_index:e++});return h===i+1&&(d.className=X(l+"-node-is-tail",d.className)),n[f]=d,u&&u.length&&(n[f].children=a(u,{_key:f,_level:d._level+1,pathParentKeys:qe(qe([],wt((s==null?void 0:s.pathParentKeys)||[]),!1),[f],!1)})),d})};return a(r||[],{}),n},Nt=function(r,l){var t=p.exports.useContext(ke).getPrefixCls,n=_e(_e({},hr),l),e=Or(),a=t("tree"),o=p.exports.useRef(Ze(r,a,n));return Fe(function(){o.current=Ze(r,a,n),e()},[r]),o.current},Pt=Nt,je=globalThis&&globalThis.__assign||function(){return je=Object.assign||function(r){for(var l,t=1,n=arguments.length;t<n;t++){l=arguments[t];for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&(r[e]=l[e])}return r},je.apply(this,arguments)},Ot=globalThis&&globalThis.__read||function(r,l){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),e,a=[],o;try{for(;(l===void 0||l-- >0)&&!(e=n.next()).done;)a.push(e.value)}catch(s){o={error:s}}finally{try{e&&!e.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return a},Tt=globalThis&&globalThis.__spreadArray||function(r,l,t){if(t||arguments.length===2)for(var n=0,e=l.length,a;n<e;n++)(a||!(n in l))&&(a||(a=Array.prototype.slice.call(l,0,n)),a[n]=l[n]);return r.concat(a||Array.prototype.slice.call(l))};function Dt(r,l){var t=r.value,n=r.multiple,e=r.loadMore,a=r.treeCheckedStrategy,o=r.treeCheckStrictly,s=r.treeData,h=r.treeProps,c=r.prefixCls,i=r.treeCheckable,u=h&&h.renderTitle,f=p.exports.useRef(),d=p.exports.useCallback(function(m,N){var C=N.checkedNodes,I=N.checked,T=N.node,R=m.map(function(K){var L=C.find(function(D){return D&&D.props._key===K});if(!L){var E=t.find(function(D){return D.value===K});return E||{label:K,value:K}}return{label:L.props.title,value:L.props._key,disabled:L.props.disabled}});r.onChange(R,{checked:I,trigger:T==null?void 0:T.props})},[r.onChange,t]),v=p.exports.useCallback(function(m,N){var C=N.node,I=N.selected,T=[{value:C.props._key,label:C.props.title}];if(n){T=Tt([],Ot(t),!1);var R=T.findIndex(function(K){return K.value===C.props._key});R>-1?T.splice(R,1):T.push({value:C.props._key,label:C.props.title})}r.onChange(T,{trigger:C==null?void 0:C.props,selected:I})},[r.onChange,t,n]),y=p.exports.useCallback(function(m,N){var C=N.node,I=N.e,T=C.props,R=T.checked,K=T.checkable,L=T.disabled,E=T.disableCheckbox;f.current&&!E&&!L&&K!==!1&&f.current.handleCheck&&f.current.handleCheck(!R,C.props._key,I)},[]),S=p.exports.useCallback(function(m){if(U(e)){var N=m.props.dataRef;return e(m,N)}return[]},[e]),O=p.exports.useCallback(function(m){if(u)return u(m);var N=r.inputValue,C=m.title;if(N&&Tr(C)){var I=C.toLowerCase().indexOf(N.toLowerCase());if(I===-1)return C;var T=C.substr(0,I),R=C.substr(I+N.length);return ne("span",{children:[T,b("span",{className:c+"-highlight",children:C.substr(I,N.length)}),R]})}return C},[c,r.inputValue,u]),k=p.exports.useMemo(function(){return r.treeCheckable?{onCheck:d,checkedKeys:t.map(function(m){return m.value})}:{}},[d,t,r.treeCheckable]),w=p.exports.useMemo(function(){return r.treeCheckable?[]:t.map(function(m){return m.value})},[r.treeCheckable,t]),_=p.exports.useCallback(function(m,N){r.treeCheckable?y(m,N):v(m,N)},[r.treeCheckable,y,v]);return p.exports.useImperativeHandle(l,function(){return f.current},[]),b(le,{...je({ref:f,size:r.size,blockNode:!0,filterNode:r.filterNode},h,{checkable:i,multiple:n,loadMore:r.loadMore?S:void 0,checkedStrategy:a,checkStrictly:o,onMouseDown:function(m){m.preventDefault()}},k,{treeData:s,fieldNames:r.fieldNames,renderTitle:O,onSelect:_,selectedKeys:w})})}var Et=p.exports.forwardRef(Dt),fe=globalThis&&globalThis.__assign||function(){return fe=Object.assign||function(r){for(var l,t=1,n=arguments.length;t<n;t++){l=arguments[t];for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&(r[e]=l[e])}return r},fe.apply(this,arguments)},It=globalThis&&globalThis.__awaiter||function(r,l,t,n){function e(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(i){try{c(n.next(i))}catch(u){o(u)}}function h(i){try{c(n.throw(i))}catch(u){o(u)}}function c(i){i.done?a(i.value):e(i.value).then(s,h)}c((n=n.apply(r,l||[])).next())})},Lt=globalThis&&globalThis.__generator||function(r,l){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,e,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(i){return h([c,i])}}function h(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,e&&(a=c[0]&2?e.return:c[0]?e.throw||((a=e.return)&&a.call(e),0):e.next)&&!(a=a.call(e,c[1])).done)return a;switch(e=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,e=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=l.call(r,t)}catch(i){c=[6,i],e=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},ye=globalThis&&globalThis.__read||function(r,l){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),e,a=[],o;try{for(;(l===void 0||l-- >0)&&!(e=n.next()).done;)a.push(e.value)}catch(s){o={error:s}}finally{try{e&&!e.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return a},Qe=globalThis&&globalThis.__spreadArray||function(r,l,t){if(t||arguments.length===2)for(var n=0,e=l.length,a;n<e;n++)(a||!(n in l))&&(a||(a=Array.prototype.slice.call(l,0,n)),a[n]=l[n]);return r.concat(a||Array.prototype.slice.call(l))};function Ae(r){return!r||xe(r)&&r.length===0||Ke(r)&&Object.keys(r).length===0}var At={bordered:!0,treeCheckedStrategy:le.SHOW_CHILD,fieldNames:hr},Rt={bottom:4},Vt=function(r,l){var t=p.exports.useContext(ke),n=t.getPrefixCls,e=t.renderEmpty,a=t.componentConfig,o=t.rtl,s=rr(r,At,a==null?void 0:a.TreeSelect),h=Dr(),c=p.exports.useRef(),i=p.exports.useRef(null),u=p.exports.useRef(null),f=p.exports.useRef([]),d=ye(Kt(s),1),v=d[0],y=Pt(v,s.fieldNames),S=ye(p.exports.useState(),2),O=S[0],k=S[1],w=ye(Re(!1,{value:s.popupVisible}),2),_=w[0],m=w[1],N=ye(Re(void 0,{value:"inputValue"in s?s.inputValue||"":void 0}),2),C=N[0],I=N[1],T=p.exports.useRef(C),R=p.exports.useRef(null),K=s.onInputValueChange,L=ye(Ct(s,y,f),2),E=L[0],D=L[1],$=s.multiple||s.treeCheckable,G=n("tree-select"),J=C&&!U(s.onSearch),ie=Er(G+"-popup-"),P=function(g){var x;g!==_&&(m(g),(x=s.onVisibleChange)===null||x===void 0||x.call(s,g))},M=function(g,x){(g!==T.current||x!==R.current)&&(I(g),T.current=g,R.current=x,K&&K(g,x))},j=p.exports.useCallback(function(g){var x=Ir(function(A){return It(void 0,void 0,void 0,function(){var V;return Lt(this,function(H){switch(H.label){case 0:return U(s.onSearch)?[4,s.onSearch(A)]:[3,2];case 1:return H.sent(),[2];case 2:return A?(V=new Set,Object.keys(y).forEach(function(Y){var q=y[Y],oe=!1;if(U(s.filterTreeNode))s.filterTreeNode(A,b(le.Node,{...fe({},q)}))&&(oe=!0);else{var We=q.value||q._key;We&&We.indexOf(A)>-1&&(oe=!0)}oe&&V.add(q.key)}),k(V),[2]):[2,v]}})})},100);return x(g)},[s.onSearch,v,y,s.filterTreeNode]),F=p.exports.useCallback(function(){var g=!0;Ke(s.showSearch)&&(g=s.showSearch.retainInputValueWhileSelect!==!1),s.multiple&&!g&&C!==void 0&&M("","optionChecked")},[C,s.multiple,JSON.stringify(s.showSearch)]),ee=p.exports.useCallback(function(g,x){D(g,x),F(),$||P(!1)},[D,F,_]),ge=function(g,x,A){if(A.stopPropagation(),!g.disabled){var V=Ke(g.value)?g.value.value:g.value;if(!s.treeCheckable||s.treeCheckStrictly||!y[V]){var H=E.filter(function(q,oe){return oe!==x});ee(H,{trigger:y[V]||g,checked:!1,selected:!1});return}var Y=dr(V,!1,Te(E),y,f.current);f.current=Y.indeterminateKeys,ee(De(Y.checkedKeys,y,E),{trigger:y[V],checked:!1,selected:!1})}};p.exports.useEffect(function(){C!==void 0&&j(C),C!==T.current&&(T.current=C)},[C]);var Z=p.exports.useMemo(function(){var g=[];if(C)for(var x in y){var A=y[x],V=Qe(Qe([],ye(A.pathParentKeys),!1),[x],!1);V.some(function(H){return O&&O.has(H)})&&(g=g.concat(V))}return Array.from(new Set(g))},[C,y,O]);p.exports.useEffect(function(){_?setTimeout(function(){var g=E[0];i.current&&g&&i.current.scrollIntoView(g.value)}):h||C&&M("","optionListHide")},[_]),p.exports.useImperativeHandle(l,function(){return{focus:function(){u.current&&u.current.focus()},blur:function(){u.current&&u.current.blur()},getRootDOMNode:function(){var g,x;return(x=(g=u.current)===null||g===void 0?void 0:g.getRootDOMNode)===null||x===void 0?void 0:x.call(g)}}});var re=p.exports.useCallback(function(g){return J?Z.indexOf(g._key)>-1:!0},[J,Z]),te=p.exports.useCallback(function(g){var x=g||{},A=x.disabled,V=x.value,H=g==null?void 0:g.label;return U(s.renderFormat)&&(H=s.renderFormat(y[V]||null,s.labelInValue?g:V)),{text:H||V||"",disabled:A}},[s.renderFormat,s.labelInValue,y]),Le=function(g){D(g,{})},Pe=function(g){return b(Rr,{...fe({autoAlignPopupWidth:!1,autoAlignPopupMinWidth:!0,ref:c,classNames:"slideDynamicOrigin",trigger:"click",position:"bl",getPopupContainer:s.getPopupContainer,popupAlign:Rt,unmountOnExit:s.unmountOnExit},s.triggerProps,{className:X(G+"-trigger",s.triggerProps&&s.triggerProps.className),popup:function(){var x,A,V,H,Y=s.dropdownRender,q=J&&Ae(Z)||Ae(v)?s.notFoundContent||e("TreeSelect"):b(Et,{...fe({prefixCls:G,ref:i},s,{inputValue:C,filterNode:re,value:E,onChange:ee,multiple:$,treeData:v})});return b("div",{id:ie,className:X(G+"-popup",(x={},x[G+"-rtl-popup"]=o,x)),style:fe({maxHeight:((A=s.treeProps)===null||A===void 0?void 0:A.height)||((H=(V=s.treeProps)===null||V===void 0?void 0:V.virtualListProps)===null||H===void 0?void 0:H.height)?"unset":""},s.dropdownMenuStyle),children:U(Y)?Y(q):q})},disabled:s.disabled,onVisibleChange:function(x){P(x)},popupVisible:_}),children:g})},Oe=typeof s.triggerElement=="function"?function(){var g,x;return $?x=E.map(function(A){return s.labelInValue?{label:A.label,value:A.value}:A.value}):x=s.labelInValue?E[0]:(g=E[0])===null||g===void 0?void 0:g.value,s.triggerElement({value:x})}():s.triggerElement;return Lr(Oe)?b(Ar,{...fe({ref:u,rtl:o,ariaControls:ie},s,{popupVisible:_,value:!$&&xe(E)?E[0]:E,inputValue:C,isEmptyValue:Ae(E),prefixCls:G,isMultiple:$,renderText:te,onSort:Le,onRemoveCheckedItem:ge,onClear:function(g){var x;g.stopPropagation(),ee([],{}),(x=s.onClear)===null||x===void 0||x.call(s,!!_)},onKeyDown:function(g){var x;g.stopPropagation(),(x=s.onKeyDown)===null||x===void 0||x.call(s,g)},onFocus:function(g){g&&g.stopPropagation()},onChangeInputValue:function(g){M(g,"manual")},renderView:Pe})}):Pe(Oe)},Mt=p.exports.forwardRef(Vt),me=Mt;me.displayName="TreeSelect";me.Node=le.Node;me.SHOW_ALL=le.SHOW_ALL;me.SHOW_PARENT=le.SHOW_PARENT;me.SHOW_CHILD=le.SHOW_CHILD;var jt=me;function Xe(r,l){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);l&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),t.push.apply(t,n)}return t}function er(r){for(var l=1;l<arguments.length;l++){var t=arguments[l]!=null?arguments[l]:{};l%2?Xe(Object(t),!0).forEach(function(n){Mr(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Xe(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function $t(r,l){var t=p.exports.useContext(Vr),n=t.prefixCls,e=n===void 0?"arco":n,a=r.spin,o=r.className,s=er(er({"aria-hidden":!0,focusable:!1,ref:l},r),{},{className:"".concat(o?o+" ":"").concat(e,"-icon ").concat(e,"-icon-refresh")});return a&&(s.className="".concat(s.className," ").concat(e,"-icon-loading")),delete s.spin,delete s.isIcon,b("svg",{fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",...s,children:b("path",{d:"M38.837 18C36.463 12.136 30.715 8 24 8 15.163 8 8 15.163 8 24s7.163 16 16 16c7.455 0 13.72-5.1 15.496-12M40 8v10H30"})})}var Be=ue.forwardRef($t);Be.defaultProps={isIcon:!0};Be.displayName="IconRefresh";var Ft=Be;const Ht="_option_11l4m_28",Bt="_option_border_11l4m_34";var Ce={"table-form":"_table-form_11l4m_1","search-left":"_search-left_11l4m_9","search-right":"_search-right_11l4m_12",option:Ht,option_border:Bt};const{RangePicker:Wt}=Gr,{Row:zt,Col:pe}=Wr,Ut=p.exports.forwardRef((r,l)=>{const t=jr($r),[n]=se.useForm(),[e,a]=p.exports.useState(!1),o=p.exports.useCallback((h,c=!0)=>{Object.entries(h).forEach(([i,u])=>{if(i.includes(",")&&u){const[f,d]=i.split(",");h[f]=u[0],h[d]=u[1],delete h[i]}}),r.search(h,c)},[n.getFieldsValue()]);function s(){n.resetFields(),r.search({},!0)}return p.exports.useImperativeHandle(l,()=>({reset:()=>s(),submit:(h=!0)=>{const c=setInterval(()=>{Object.keys(n.getFieldsValue())&&(o(n.getFieldsValue(),h),clearInterval(c))},100)}})),p.exports.useLayoutEffect(()=>{if(r.columns){for(const h of r.columns)if(h.search){a(!0);return}r.columns.flatMap(h=>{h.search})}},[r.columns]),ne($e,{children:[e&&b(se,{form:n,labelCol:{span:5},wrapperCol:{span:19},labelAlign:"right",onSubmit:o,children:ne("div",{className:Ce["table-form"],children:[b("div",{className:Ce["search-left"],children:b(zt,{gutter:6,children:r.columns.flatMap(h=>{if(h.search){if(!h.valueType||h.valueType==="text")return b(pe,{span:8,children:b(se.Item,{label:h.title,field:h.dataIndex,initialValue:h.initialValue,children:b(nr,{maxLength:20,allowClear:!0,...h.fieldProps})})},h.dataIndex);if(h.valueType==="number")return b(pe,{span:8,children:b(se.Item,{label:h.title,field:h.dataIndex,children:b(Fr,{maxLength:20,...h.fieldProps})})},h.dataIndex);if(h.valueType==="select")return b(pe,{span:8,children:b(se.Item,{label:h.title,field:h.dataIndex,children:b(Ne,{allowClear:!0,...h.fieldProps})})},h.dataIndex);if(h.valueType==="treeSelect")return b(pe,{span:8,children:b(se.Item,{label:h.title,field:h.dataIndex,children:b(jt,{...h.fieldProps})})},h.dataIndex);if(h.valueType==="date")return b(pe,{span:8,children:b(se.Item,{label:h.title,field:h.dataIndex,children:b(Wt,{...h.fieldProps})})},h.dataIndex);if(h.valueType==="autoComplete")return b(pe,{span:8,children:b(se.Item,{label:h.title,field:h.dataIndex,children:b(Xr,{...h.fieldProps})})},h.dataIndex)}})})}),ne("div",{className:Ce["search-right"],children:[b(ze,{type:"primary",icon:b(Hr,{}),onClick:()=>n.submit(),children:t["table.search"]}),!r.hideResetButton&&b(ze,{icon:b(Ft,{}),onClick:s,children:t["table.reset"]})]})]})}),ne("div",{className:Br(Ce.option,{[Ce.option_border]:e}),children:[b(Ue,{children:r.toolBarRender}),b(Ue,{children:r.actionBarRender})]})]})}),Gt=p.exports.forwardRef((r,l)=>{const[t,n]=p.exports.useState(!1),[e,a]=p.exports.useState(!1),[o,s]=p.exports.useState({}),[h,c]=p.exports.useState([]),[i,u]=p.exports.useState({sizeCanChange:!0,showTotal:!0,current:1,pageSize:10,pageSizeChangeResetCurrent:!0}),f=p.exports.useRef();p.exports.useImperativeHandle(l,()=>({reload:()=>d(o,!0),getList:()=>h}));const d=p.exports.useCallback(async(v=o,y=!1,S=!0)=>{if(JSON.stringify(o)!==JSON.stringify(v)&&(n(!0),s(v)),r.immediateSearch&&!Object.keys(v).length)return;S&&a(!0);let O,k=10;y?O=1:(O=i.current,k=i.pageSize);try{const w=await r.request({page:r.pageSize===!1?void 0:O,pageSize:r.pageSize===!1?void 0:k,...v,...r.params});if(w.code===0){const _=w.data||{};let m;if("pageData"in _?m=_.pageData||[]:m=Array.isArray(_)?_:[],r.dataRender){const N=await r.dataRender(m);c(N||[])}else c(m);u({...i,current:O,pageSize:k,total:"total"in _?_.total:void 0})}else throw new Error(w.message)}catch{}S&&a(!1)},[o,i,r]);return p.exports.useEffect(()=>{if(t){n(!1);return}r.immediateSearch?f.current&&f.current.submit(!1):d()},[i.current,i.pageSize,o]),p.exports.useEffect(()=>{if(r.autoRefresh&&r.autoRefreshTime){const v=setInterval(()=>{d(o,!1,!1)},r.autoRefreshTime);return()=>{clearInterval(v)}}},[r.autoRefresh,r.autoRefreshTime,o,d]),ne($e,{children:[b(Ut,{ref:f,columns:r.columns,search:d,actionBarRender:r.actionBarRender,toolBarRender:r.toolBarRender,hideResetButton:r.immediateSearch}),b(Ur,{loading:e,columns:r.columns.filter(v=>!v.hide).map(v=>v.copy?{...v,render(y){return b(zr.Text,{style:{marginBottom:0},copyable:!0,ellipsis:!0,children:y})}}:{...v}),rowKey:r.rowKey||"id",data:h,pagination:r.pagination===!1?!1:i,onChange:({current:v,pageSize:y},S)=>{S&&(Array.isArray(S)||(S.direction?s({...o,orderField:S.field,orderType:S.direction==="ascend"?"ASC":"DESC"}):s({...o,orderField:void 0,orderType:void 0}))),u({...i,current:v,pageSize:y})},scroll:r.scroll})]})});var Qt=Gt;export{Xr as A,Qt as P,jt as T};
