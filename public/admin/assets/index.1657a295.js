import{u as N,r as e,a as u,F as $,j as a,aj as B,az as G}from"./index.1a11cdc6.js";import{P as I}from"./index.5ddd7d6d.js";import{C as O}from"./index.390eca1f.js";import{T as v}from"./index.b2c78064.js";import{l as R,C as U}from"./card-block.c685f79a.js";import{s as C}from"./index.module.fd951a68.js";import H from"./card-add.6c8fd7b2.js";import{s as J,q as M,a as Q}from"./index.e0d08920.js";import{i as V}from"./use-immer.module.6e0b6c8d.js";import W from"./create.373e416a.js";import"./index.b5f1bd02.js";import"./index.ba5b8b20.js";import"./index.ef2e5c2f.js";import"./index.6a8148d7.js";import"./index.c7fa4a85.js";import"./index.11a5a35b.js";import"./index.ea70e36d.js";import"./index.a11aa7dc.js";import"./index.688b276f.js";import"./index.a0b763a7.js";import"./b-tween.es.064e2a03.js";import"./convertNullToUndefined.a19d8223.js";import"./index.255b9fc4.js";const{Row:X,Col:S}=G;function Ct(){const p=N(R),[L,m]=e.exports.useState(!0),[b,w]=e.exports.useState(new Array(1).fill({})),[s,j]=e.exports.useState(),[r,A]=e.exports.useState(),[f,P]=e.exports.useState(),[i,c]=V({visible:!1,close:function(){c(t=>{t.visible=!1})}}),[z,x]=e.exports.useState(),[l,h]=e.exports.useState(1),[d,E]=e.exports.useState(10),[T,q]=e.exports.useState(0);function D(){x(void 0),c(t=>{t.data=void 0,t.visible=!0})}async function k(t){try{const o=await Q({uuid:t});o.code===0&&(x(t),c(n=>{n.data=o.data,n.visible=!0}))}catch{}}async function F(){const t=await J();j(t.data.status)}function g(){!s||(m(!0),M({page:l,pageSize:d,status:r==="ALL"?void 0:r,keyword:f}).then(t=>{const o=t.data.pageData.map(n=>({...n,status:s[n.status]}));q(t.data.total),w(o)}).finally(()=>{m(!1)}))}function y(){h(1),g()}e.exports.useEffect(()=>{F()},[]),e.exports.useEffect(()=>{g()},[s,l,d,r,f]);const K=()=>u(X,{gutter:24,className:C["card-content"],children:[a(S,{xs:24,sm:12,md:8,lg:6,xl:6,xxl:6,children:a(H,{description:p["cardList.add.quality"],onCreate:D})}),b.map((t,o)=>a(S,{xs:24,sm:12,md:8,lg:6,xl:6,xxl:6,children:a(U,{card:t,loading:L,onEdit:k,reload:y})},o))]});return u($,{children:[i.visible&&a(W,{visible:i.visible,data:i.data,status:s,close:()=>i.close(),reload:y,uuid:z}),u(O,{style:{display:i.visible?"none":void 0},children:[a(v,{activeTab:r,type:"rounded",onChange:A,extra:a(B.Search,{style:{width:"240px"},placeholder:p[`cardList.tab.${r}.placeholder`],onSearch:P}),children:s&&Object.keys({ALL:"\u5168\u90E8",...s}).map(t=>a(v.TabPane,{title:{ALL:"\u5168\u90E8",...s}[t]},t))}),a("div",{className:C.container,children:K()}),a("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end"},children:a(I,{sizeCanChange:!0,total:T,pageSize:d,current:l,onChange:h,onPageSizeChange:E})})]})]})}export{Ct as default};
