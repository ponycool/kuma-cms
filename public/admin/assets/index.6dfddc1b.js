import{h as c,r as i,aO as d,aP as f,a as h,j as r,aQ as x,af as a,aR as C,ad as F,B}from"./index.81a318d7.js";import{C as P}from"./index.e8a3021e.js";import{P as b}from"./index.7735d81f.js";import"./index.fdc8d95f.js";import"./index.911612d5.js";import"./b-tween.es.064e2a03.js";import"./index.2bb1cf28.js";import"./index.c4b4bd87.js";import"./index.dab3fe75.js";import"./index.2f504a85.js";import"./scrollIntoView.e2dbd9f1.js";function g(n){return c.post("/api/permission/list",n)}function q(){const[n,o]=i.exports.useState(!0),[p,l]=i.exports.useState([]),[m]=d(f("admin"));return i.exports.useEffect(()=>{l(m.filter(e=>e.name!=="\u6B22\u8FCE\u4F7F\u7528"))},[]),h(P,{children:[r(b,{request:g,columns:[{title:"\u540D\u5B57",dataIndex:"name",search:!0},{title:"\u6743\u9650",width:500,dataIndex:"permission",render(e,t,s){return t.permission?t.permission.split(",").map(u=>r(C,{style:{margin:"0 3px 3px 0 "},children:u},u)):"-"}},{title:"\u64CD\u4F5C",width:"350px",render(e,t,s){return[r(F,{children:r(B,{type:"default",status:"warning",onClick:()=>{o(!0)},children:"\u529F\u80FD\u6743\u9650"})},s)]}}]}),r(x,{visible:n,title:"\u8BBE\u7F6E\u6743\u9650",onCancel:()=>o(!1),children:r(a,{mode:"multiple",children:p.map((e,t)=>r(a.OptGroup,{label:e.name,children:e!=null&&e.children?e.children.map(s=>r(a.Option,{value:s.name},s.key)):r(a.Option,{value:e.name},e.key)},t))})})]})}export{q as default};
