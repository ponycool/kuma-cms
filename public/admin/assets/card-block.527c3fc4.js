import{R as O,r as p,g as y,j as o,_ as x,bl as Q,aQ as T,u as Z,ay as z,a as f,F as b,a1 as G,a2 as P,M as w,q as K,B as g,aR as W}from"./index.ed698903.js";import{S as v}from"./index.43515e55.js";import{D as q}from"./index.91182df3.js";import{C as H}from"./index.56963861.js";import{l as U,r as J,d as X,e as Y}from"./index.7f69270c.js";import{s as i}from"./index.module.82d05283.js";import{I as ee}from"./index.b70267a9.js";import{I as te}from"./index.1d530ec6.js";function I(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),e.push.apply(e,r)}return e}function B(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?I(Object(e),!0).forEach(function(r){x(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):I(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}function re(t,n){var e=p.exports.useContext(y),r=e.prefixCls,c=r===void 0?"arco":r,u=t.spin,l=t.className,a=B(B({"aria-hidden":!0,focusable:!1,ref:n},t),{},{className:"".concat(l?l+" ":"").concat(c,"-icon ").concat(c,"-icon-question")});return u&&(a.className="".concat(a.className," ").concat(c,"-icon-loading")),delete a.spin,delete a.isIcon,o("svg",{fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",...a,children:o("path",{d:"M13 17c0-5.523 4.925-10 11-10s11 4.477 11 10c0 3.607-2.1 6.767-5.25 8.526C26.857 27.142 24 29.686 24 33v3m0 5h.02v.02H24V41Z"})})}var C=O.forwardRef(re);C.defaultProps={isIcon:!0};C.displayName="IconQuestion";var ae=C;function S(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),e.push.apply(e,r)}return e}function _(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?S(Object(e),!0).forEach(function(r){x(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):S(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}function ne(t,n){var e=p.exports.useContext(y),r=e.prefixCls,c=r===void 0?"arco":r,u=t.spin,l=t.className,a=_(_({"aria-hidden":!0,focusable:!1,ref:n},t),{},{className:"".concat(l?l+" ":"").concat(c,"-icon ").concat(c,"-icon-forward")});return u&&(a.className="".concat(a.className," ").concat(c,"-icon-loading")),delete a.spin,delete a.isIcon,o("svg",{fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",...a,children:o("path",{d:"m9.707 11.707 11.586 11.586a1 1 0 0 1 0 1.414L9.707 36.293c-.63.63-1.707.184-1.707-.707V12.414c0-.89 1.077-1.337 1.707-.707ZM27 35.586V12.414c0-.89 1.077-1.337 1.707-.707l11.586 11.586a1 1 0 0 1 0 1.414L28.707 36.293c-.63.63-1.707.184-1.707-.707Z"})})}var k=O.forwardRef(ne);k.defaultProps={isIcon:!0};k.displayName="IconForward";var oe=k;function D(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),e.push.apply(e,r)}return e}function E(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?D(Object(e),!0).forEach(function(r){x(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):D(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}function ce(t,n){var e=p.exports.useContext(y),r=e.prefixCls,c=r===void 0?"arco":r,u=t.spin,l=t.className,a=E(E({"aria-hidden":!0,focusable:!1,ref:n},t),{},{className:"".concat(l?l+" ":"").concat(c,"-icon ").concat(c,"-icon-play-arrow")});return u&&(a.className="".concat(a.className," ").concat(c,"-icon-loading")),delete a.spin,delete a.isIcon,o("svg",{fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",...a,children:o("path",{d:"M12.533 7.965A1 1 0 0 0 11 8.81v30.377a1 1 0 0 0 1.533.846L36.656 24.84a1 1 0 0 0 0-1.692L12.533 7.965Z"})})}var j=O.forwardRef(ce);j.defaultProps={isIcon:!0};j.displayName="IconPlayArrow";var se=j;function be(t){const{lang:n}=p.exports.useContext(Q),{card:e,onEdit:r,reload:c}=t,[u,l]=T.useModal(),a=Z(U),[$,F]=p.exports.useState(!1),[m,h]=p.exports.useState(t.loading),N=async()=>{h(!0),e.is_active===1?await X(e.uuid).then(s=>{s.code===0&&(w.success("\u64CD\u4F5C\u6210\u529F"),c())}).finally(()=>h(!1)):await Y(e.uuid).then(s=>{s.code===0&&(w.success("\u64CD\u4F5C\u6210\u529F"),c())}).finally(()=>h(!1))};p.exports.useEffect(()=>{h(t.loading)},[t.loading]);const L=()=>f(b,{children:[o(g,{loading:m,style:{marginLeft:"8px"},type:"outline",onClick:()=>{r(e.uuid)},children:a["cardBlock.options.detail"]}),e.is_active===1?o(g,{type:"dashed",loading:m,onClick:()=>{N()},children:a["cardBlock.options.disable"]}):o(g,{type:"outline",loading:m,onClick:()=>{N()},children:a["cardBlock.options.activate"]})]}),M=()=>{let s,d;switch(e.status){case"PLANNING":s="orange",d=o(se,{});break;case"ACTIVE":s="green",d=o(oe,{});break;case"PAUSED":s="red",d=o(te,{});break;case"COMPLETED":s="blue",d=o(ee,{});break;default:s="gray",d=o(ae,{});break}return o(W,{color:s,icon:d,className:i.status,size:"small",children:n==="zh-CN"?e.statusText:e.status})},R=()=>m?o(v,{text:{rows:2},animation:!0,className:i["card-block-skeleton"]}):o(q,{column:2,data:[{label:a["cardBlock.label.status"],value:e.is_active?o("span",{style:{color:"green"},children:a["cardBlock.label.activated"]}):o("span",{style:{color:"red"},children:a["cardBlock.label.disabled"]})},{label:a["cardBlock.label.viewCount"],value:e.view_count},{label:a["cardBlock.label.activityTime"],value:`${e.start_datetime?e.start_datetime.slice(0,-3):a["cardBlock.label.notSet"]} - ${e.end_datetime?e.end_datetime.slice(0,-3):a["cardBlock.label.notSet"]}`}]}),A=z(i["card-block"]);return f(b,{children:[f(H,{bordered:!0,className:A,size:"small",title:m?f(b,{children:[f("div",{style:{display:"flex",width:"100%"},children:[o(v,{animation:!0,text:{rows:1,width:"100%"},style:{width:"100%",height:"24px"},className:i["card-block-skeleton"]}),o(v,{animation:!0,text:{rows:1,width:"100%"},style:{width:"30%",height:"24px",marginLeft:"16px",marginRight:"16px"},className:i["card-block-skeleton"]})]}),o(v,{animation:!0,text:{rows:1,width:"100%"},style:{width:"100%",height:"20px"},className:i["card-block-skeleton"]})]}):f(b,{children:[f("div",{className:i.title,children:[o("div",{style:{cursor:"pointer",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},onClick:()=>{r(e.uuid)},children:e.name}),M(),o(G,{droplist:o(P,{children:[a["cardBlock.menu.delete"],a["cardBlock.menu.shareRecord"]].map((s,d)=>o(P.Item,{onClick:()=>{d===0?u.confirm({title:a["cardBlock.button.delete"],content:a["cardBlock.button.deleteConfirm"],onOk:()=>{J({uuid:e.uuid}).then(V=>{V.code===0&&(w.success(a["cardBlock.button.deleteSuccess"]),c())})}}):d===1&&t.onShareRecord(e.name)},children:s},d.toString()))}),trigger:"hover",onVisibleChange:F,popupVisible:$,children:o("div",{className:i.more,children:o(K,{})})})]}),o("div",{className:i.time,children:e.created_at})]}),children:[o("div",{className:i.content,children:R()}),o("div",{className:i.extra,children:L()})]}),l]})}export{be as default};
