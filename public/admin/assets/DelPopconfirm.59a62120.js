import{r as b,C as te,f as re,v as ie,j as i,T as ae,c as se,I as le,ab as ce,a as C,F as ue,B as k,b as E,ac as fe,ad as v,ae as pe,q as ge,u as de,i as me,M as he}from"./index.8958ccd3.js";var f=globalThis&&globalThis.__assign||function(){return f=Object.assign||function(e){for(var a,r=1,n=arguments.length;r<n;r++){a=arguments[r];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},f.apply(this,arguments)},ve=globalThis&&globalThis.__rest||function(e,a){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,n=Object.getOwnPropertySymbols(e);t<n.length;t++)a.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(e,n[t])&&(r[n[t]]=e[n[t]]);return r},L=globalThis&&globalThis.__read||function(e,a){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),t,c=[],u;try{for(;(a===void 0||a-- >0)&&!(t=n.next()).done;)c.push(t.value)}catch(y){u={error:y}}finally{try{t&&!t.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return c},be={position:"top",okType:"primary",icon:i(le,{}),blurToHide:!0,unmountOnExit:!0,trigger:"click",escToClose:!0};function Ce(e,a){var r,n=b.exports.useContext(te),t=n.getPrefixCls,c=n.locale,u=n.componentConfig,y=n.rtl,o=re(e,be,u==null?void 0:u.Popconfirm),H=o.style,M=o.className,P=o.children,D=o.position,I=o.getPopupContainer,q=o.blurToHide,z=o.unmountOnExit,A=o.trigger,G=o.escToClose,O=o.onVisibleChange,g=o.triggerProps,x=o.title,_=o.icon,R=o.okText,U=o.cancelText,W=o.okType,$=o.okButtonProps,J=o.cancelButtonProps,K=o.autoFocus,Q=o.focusLock,d=o.content,X=ve(o,["style","className","children","position","getPopupContainer","blurToHide","unmountOnExit","trigger","escToClose","onVisibleChange","triggerProps","title","icon","okText","cancelText","okType","okButtonProps","cancelButtonProps","autoFocus","focusLock","content"]),V=L(ie(!1,{defaultValue:o.defaultPopupVisible,value:o.popupVisible}),2),m=V[0],Y=V[1],N=L(b.exports.useState(!1),2),F=N[0],h=N[1],s=t("popconfirm"),w=!ce(d),j=function(l){"popupVisible"in o||Y(l),g&&g.onVisibleChange&&g.onVisibleChange(l),O&&O(l)},T=function(){j(!1)},Z=function(l){T(),o.onCancel&&o.onCancel(l)},ee=function(l){var B=o.onOk||o.onConfirm,p;B&&(p=B(l)),p&&p.then&&(h(!0),p.then(function(){T()},function(ne){h(!1),console.error(ne)})),p||T()},oe=function(){var l=C(ue,{children:[i(k,{...f({onClick:Z,size:"mini"},J),children:U||c.Popconfirm.cancelText}),i(k,{...f({loading:F,onClick:ee,size:"mini",type:W},$),children:R||c.Popconfirm.okText})]});return C("div",{className:s+"-wrapper",children:[C("div",{className:s+"-title",children:[_&&i("span",{className:s+"-title-icon",children:_}),i("div",{className:s+"-title-text",children:E(x)?x():x})]}),w&&i("div",{className:s+"-inner-content",children:E(d)?d():d}),Q?i(fe,{returnFocus:!0,as:"div",className:s+"-btn",crossFrame:!1,disabled:!m,autoFocus:!!K,children:l}):i("div",{className:s+"-btn",children:l})]})};return b.exports.useEffect(function(){return!m&&F&&h(!1),function(){h(!1)}},[m]),i(ae,{...f({},X,{ref:a,style:f({maxWidth:350},H),className:se(M,(r={},r[s+"-rtl"]=y,r[s+"-has-content"]=w,r)),prefixCls:s,getPopupContainer:I,position:D,trigger:A,escToClose:G,popupVisible:m,content:oe,unmountOnExit:z,blurToHide:q,popupHoverStay:!0,triggerProps:g,onVisibleChange:j,childrenPrefix:s}),children:typeof P=="string"?i("span",{children:P}):P})}var S=b.exports.forwardRef(Ce);S.displayName="Popconfirm";var ye=S;function xe({children:e}){return Array.isArray(e)?e.length<3?i(v,{children:e}):C(v,{children:[e.slice(0,2),i(pe,{position:"bottom",content:i(v,{direction:"vertical",children:e.slice(2)}),children:i(k,{type:"text",icon:i(ge,{})})})]}):i(v,{children:e})}function Te(e){var n,t;const a=de(me);async function r(){const c=await e.reqDel(e.params);c.code===0&&(he.success(c.message),e.reload())}return i(ye,{focusLock:!0,title:(n=e.title)!=null?n:a["confirm delete"],content:(t=e.content)!=null?t:a["Do you want to delete it"],onOk:r,children:e.children})}export{xe as C,Te as D};
