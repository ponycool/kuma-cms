import{u as d,i as C,r as u,a as r,j as a,aR as p,B as l,bc as x,be as D}from"./index.1a11cdc6.js";import"./index.c7fa4a85.js";import{C as F}from"./index.390eca1f.js";import{P as g}from"./index.7ad93636.js";import{C as k,D as y}from"./DelPopconfirm.26b6577f.js";import{t as I,q as w,e as E,d as v,r as B,a as L}from"./index.8e144b66.js";import T from"./create.43ae76bd.js";import{i as q}from"./use-immer.module.6e0b6c8d.js";import{I as R}from"./image.4ec78a26.js";import{I as S}from"./index.0d893c2a.js";import{I as j}from"./index.ea70e36d.js";import"./index.ef2e5c2f.js";import"./index.11a5a35b.js";import"./index.6a8148d7.js";import"./index.a11aa7dc.js";import"./index.5ddd7d6d.js";import"./index.64430a43.js";import"./b-tween.es.064e2a03.js";import"./index.688b276f.js";import"./index.a0b763a7.js";import"./convertNullToUndefined.a19d8223.js";const A={"en-US":{"columns.carousel":"Carousel",noCover:"No Cover","columns.title":"Title","columns.description":"Description","columns.link":"Link","columns.status":"Status","columns.status.enable":"Enable","columns.status.disable":"Disable","columns.options":"Options","columns.action":"Action","columns.action.edit":"Edit","columns.action.enable":"Enable","columns.action.disable":"Disable","columns.action.delete":"Delete"},"zh-CN":{"columns.carousel":"\u8F6E\u64AD\u56FE",noCover:"\u6682\u65E0\u5C01\u9762","columns.title":"\u6807\u9898","columns.description":"\u63CF\u8FF0","columns.link":"\u8DF3\u8F6C\u94FE\u63A5","columns.status":"\u542F\u7528\u72B6\u6001","columns.status.enable":"\u542F\u7528","columns.status.disable":"\u7981\u7528","columns.action":"\u64CD\u4F5C","columns.action.edit":"\u7F16\u8F91","columns.action.enable":"\u542F\u7528","columns.action.disable":"\u7981\u7528","columns.action.delete":"\u5220\u9664"}},ae=()=>{const c=d(C),o=d(A),n=u.exports.useRef(),[f,b]=u.exports.useState([]),[m,i]=q({show:!1});async function h(t){const e=await L(t);e.code===0&&i(s=>{s.data=e.data,s.show=!0})}return u.exports.useEffect(()=>{I().then(t=>{const e=[];for(const s in t.data)e.push({value:s,label:t.data[s]});b(e)})},[]),r(F,{children:[a(T,{reload:()=>{var t;return(t=n.current)==null?void 0:t.reload()},close:()=>i(t=>{t.show=!1}),visible:m.show,target:f,data:m.data}),a(g,{ref:n,request:w,columns:[{title:o["columns.carousel"],width:150,dataIndex:"image",render:(t,e)=>{if(e.image){let s="";return s=e.image,a(R,{width:200,height:100,src:s})}else return o.noCover}},{title:o["columns.title"],dataIndex:"title"},{title:o["columns.description"],dataIndex:"description"},{title:o["columns.link"],dataIndex:"link"},{title:o["columns.status"],dataIndex:"status",render(t,e){return e.status===1?a(p,{color:"green",children:o["columns.status.enable"]}):a(p,{color:"red",children:o["columns.status.disable"]})}},{title:o["columns.action"],width:280,render:(t,e)=>r(k,{children:[r(l,{type:"text",onClick:()=>h(e.uuid),children:[a(x,{}),o["columns.action.edit"]]}),e.status===0?r(l,{type:"text",onClick:async()=>{(await E(e.uuid)).code===0&&n.current.reload()},children:[a(S,{}),o["columns.action.enable"]]}):r(l,{type:"text",onClick:async()=>{(await v(e.uuid)).code===0&&n.current.reload()},children:[a(D,{}),o["columns.action.disable"]]}),a(y,{reqDel:B,params:e.uuid,reload:()=>n.current.reload(),children:r(l,{type:"text",children:[a(j,{}),o["columns.action.delete"]]})})]})}],pagination:!1,pageSize:!1,actionBarRender:[a(l,{type:"primary",onClick:()=>n.current.reload(),children:c["table.refresh"]},"refresh")],toolBarRender:[a(l,{type:"primary",onClick:()=>{i(t=>{t.data=void 0,t.show=!0})},children:c["table.create"]},"create")]})]})};export{ae as default};
